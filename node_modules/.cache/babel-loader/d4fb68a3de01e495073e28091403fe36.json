{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isLivePagination = exports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = require(\"react\");\n\nvar _clamp = _interopRequireDefault(require(\"../../utils/clamp\"));\n\nvar _getIndexBy = _interopRequireDefault(require(\"../../utils/getIndexBy\"));\n\nvar _fastDeepEqual = _interopRequireDefault(require(\"fast-deep-equal\"));\n\nvar _useLoadDataEffect = _interopRequireDefault(require(\"../useLoadDataEffect\"));\n\nvar _useProperty7 = _interopRequireDefault(require(\"../useProperty\"));\n\nvar _useNamedState9 = _interopRequireDefault(require(\"../useNamedState\"));\n\nvar _computeData = _interopRequireDefault(require(\"./computeData\"));\n\nvar _batchUpdate = _interopRequireDefault(require(\"../../utils/batchUpdate\"));\n\nvar _usePrevious = _interopRequireDefault(require(\"../usePrevious\"));\n\nvar _isControlledProperty = _interopRequireDefault(require(\"../../utils/isControlledProperty\"));\n\nvar _getGlobal = require(\"../../getGlobal\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar raf = globalObject.requestAnimationFrame;\n\nvar isRemoteData = function isRemoteData(props) {\n  if (props.dataSource == null) {\n    return false;\n  }\n\n  return typeof props.dataSource.then === 'function' || typeof props.dataSource === 'function';\n};\n\nvar isRemoteSort = function isRemoteSort(props) {\n  var remoteSort = props.remoteSort;\n  return remoteSort === true || remoteSort === undefined && isRemoteData(props);\n};\n\nvar isRemoteFilter = function isRemoteFilter(props) {\n  var remoteFilter = props.remoteFilter;\n  return remoteFilter === true || remoteFilter === undefined && isRemoteData(props);\n};\n\nvar isPagination = function isPagination(props) {\n  return !!props.pagination;\n};\n\nvar isLocalPagination = function isLocalPagination(props) {\n  return isPagination(props) && !isRemotePagination(props);\n};\n\nvar isLivePagination = function isLivePagination(props) {\n  return !!props.livePagination && isRemotePagination(props);\n};\n\nexports.isLivePagination = isLivePagination;\n\nvar isRemotePagination = function isRemotePagination(props) {\n  var remotePagination = props.remotePagination,\n      pagination = props.pagination,\n      livePagination = props.livePagination;\n\n  if (pagination === false || pagination === 'local') {\n    return false;\n  }\n\n  if (pagination === 'remote' || isRemoteData(props)) {\n    return true;\n  }\n\n  if (remotePagination !== undefined) {\n    return remotePagination;\n  }\n\n  return !!livePagination;\n};\n\nvar loadDataSource = function loadDataSource(dataSource, _ref) {\n  var skip = _ref.skip,\n      limit = _ref.limit,\n      currentData = _ref.currentData,\n      sortInfo = _ref.sortInfo,\n      filterValue = _ref.filterValue,\n      groupBy = _ref.groupBy;\n\n  if (typeof dataSource === 'function') {\n    dataSource = loadDataSource(dataSource({\n      skip: skip,\n      limit: limit,\n      sortInfo: sortInfo,\n      currentData: currentData,\n      filterValue: filterValue,\n      groupBy: groupBy\n    }), {\n      skip: skip,\n      limit: limit,\n      sortInfo: sortInfo,\n      groupBy: groupBy,\n      filterValue: filterValue,\n      currentData: currentData\n    });\n  }\n\n  if (dataSource instanceof Promise) {\n    return dataSource.then(function (result) {\n      if (Array.isArray(result)) {\n        return {\n          data: result,\n          count: result.length\n        };\n      }\n\n      return {\n        data: result.data,\n        count: result.count\n      };\n    });\n  }\n\n  return Promise.resolve({\n    data: dataSource,\n    count: dataSource.length\n  });\n};\n\nvar useData = function useData(_ref2, context) {\n  var dataSource = _ref2.dataSource,\n      skip = _ref2.skip,\n      limit = _ref2.limit,\n      localPagination = _ref2.localPagination;\n  var data;\n  var silentSetData;\n\n  var _useNamedState = (0, _useNamedState9.default)([], context, 'data');\n\n  var _useNamedState2 = (0, _slicedToArray2.default)(_useNamedState, 2);\n\n  data = _useNamedState2[0];\n  silentSetData = _useNamedState2[1];\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      dataMap = _useState2[0],\n      setDataMap = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      dataIndexMap = _useState4[0],\n      setDataIndexMap = _useState4[1];\n\n  var originalData;\n  var setOriginalData;\n\n  var _useNamedState3 = (0, _useNamedState9.default)(Array.isArray(dataSource) ? dataSource : [], context, 'originalData');\n\n  var _useNamedState4 = (0, _slicedToArray2.default)(_useNamedState3, 2);\n\n  originalData = _useNamedState4[0];\n  setOriginalData = _useNamedState4[1];\n\n  var _useNamedState5 = (0, _useNamedState9.default)(data.length, context, 'count'),\n      _useNamedState6 = (0, _slicedToArray2.default)(_useNamedState5, 2),\n      count = _useNamedState6[0],\n      setCount = _useNamedState6[1];\n\n  var _useNamedState7 = (0, _useNamedState9.default)(0, context, 'dataCountAfterFilter'),\n      _useNamedState8 = (0, _slicedToArray2.default)(_useNamedState7, 2),\n      dataCountAfterFilter = _useNamedState8[0],\n      setDataCountAfterFilter = _useNamedState8[1];\n\n  return {\n    setDataMap: setDataMap,\n    dataMap: dataMap,\n    dataIndexMap: dataIndexMap,\n    setDataIndexMap: setDataIndexMap,\n    originalData: originalData,\n    setOriginalData: setOriginalData,\n    data: data,\n    count: count,\n    dataCountAfterFilter: dataCountAfterFilter,\n    silentSetData: silentSetData,\n    setDataCountAfterFilter: setDataCountAfterFilter,\n    setCount: setCount\n  };\n};\n\nvar getDataCountForPagination = function getDataCountForPagination(props) {\n  var paginationCount = props.remotePagination ? props.count : props.dataCountAfterFilter != null ? props.dataCountAfterFilter : props.originalData.length;\n  return paginationCount;\n};\n\nvar getCurrentPage = function getCurrentPage(props) {\n  return Math.floor(props.skip / props.limit) + 1;\n};\n\nvar getPageCount = function getPageCount(_ref3) {\n  var count = _ref3.count,\n      limit = _ref3.limit;\n  return Math.ceil(count / limit);\n};\n\nvar getSkipForPage = function getSkipForPage(_ref4) {\n  var page = _ref4.page,\n      limit = _ref4.limit;\n  return Math.max(0, limit * (page - 1));\n};\n\nvar hasNextPage = function hasNextPage(_ref5) {\n  var skip = _ref5.skip,\n      limit = _ref5.limit,\n      count = _ref5.count;\n  return getCurrentPage({\n    skip: skip,\n    limit: limit\n  }) < getPageCount({\n    count: count,\n    limit: limit\n  });\n};\n\nvar hasPrevPage = function hasPrevPage(_ref6) {\n  var skip = _ref6.skip,\n      limit = _ref6.limit,\n      count = _ref6.count;\n  var currentPage = getCurrentPage({\n    skip: skip,\n    limit: limit\n  });\n  return currentPage > 1 && currentPage - 1 < getPageCount({\n    count: count,\n    limit: limit\n  });\n};\n\nvar usePagination = function usePagination(_ref7, computedPropsRef) {\n  var append = _ref7.append,\n      reload = _ref7.reload,\n      setAppend = _ref7.setAppend,\n      skip = _ref7.skip,\n      limit = _ref7.limit,\n      count = _ref7.count,\n      silentSetSkip = _ref7.setSkip,\n      silentSetLimit = _ref7.setLimit,\n      remotePagination = _ref7.remotePagination,\n      localPagination = _ref7.localPagination,\n      pagination = _ref7.pagination,\n      lastSkipRef = _ref7.lastSkipRef,\n      lastLimitRef = _ref7.lastLimitRef,\n      dataCountAfterFilter = _ref7.dataCountAfterFilter,\n      livePagination = _ref7.livePagination,\n      originalData = _ref7.originalData,\n      data = _ref7.data;\n  var paginationCount = getDataCountForPagination({\n    originalData: originalData,\n    remotePagination: remotePagination,\n    count: count,\n    dataCountAfterFilter: dataCountAfterFilter\n  });\n\n  var setLimitOrSkip = function setLimitOrSkip(computedProps, config, queue) {\n    return (0, _computeData.default)(_objectSpread(_objectSpread({\n      skip: skip,\n      limit: limit\n    }, config), {}, {\n      localPagination: localPagination\n    }), computedProps, queue);\n  };\n\n  var setSkip = function setSkip(skip, config) {\n    var computedProps = computedPropsRef.current;\n    var queue = (0, _batchUpdate.default)();\n    var computedRemoteData = computedProps.computedRemoteData;\n    queue.commit(function () {\n      if (config && config.append !== undefined) {\n        setAppend(config.append);\n      }\n\n      if (computedRemoteData) {\n        computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n          return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['skip']);\n        });\n      }\n\n      silentSetSkip(skip);\n    });\n  };\n\n  var setLimit = function setLimit(limit) {\n    var computedProps = computedPropsRef.current;\n    var queue = (0, _batchUpdate.default)();\n    var computedRemoteData = computedProps.computedRemoteData;\n    queue.commit(function () {\n      if (computedRemoteData) {\n        computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n          return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['limit']);\n        });\n      }\n\n      silentSetLimit(limit);\n    });\n  };\n\n  var incrementSkip = function incrementSkip(amount, config) {\n    setSkip(skip + amount, config);\n  };\n\n  var gotoNextPage = function gotoNextPage(config) {\n    if (hasNextPage({\n      skip: skip,\n      limit: lastLimitRef.current,\n      count: paginationCount\n    })) {\n      incrementSkip(lastLimitRef.current, config);\n    }\n  };\n\n  var gotoPrevPage = function gotoPrevPage() {\n    if (hasPrevPage({\n      skip: skip,\n      limit: limit,\n      count: paginationCount\n    })) {\n      incrementSkip(-limit);\n    }\n  };\n\n  var gotoPage = function gotoPage(page, config) {\n    page = (0, _clamp.default)(page, 1, getPageCount({\n      count: paginationCount,\n      limit: limit\n    }));\n    var force = config ? config.force : false;\n\n    if (page === getCurrentPage({\n      skip: skip,\n      limit: limit\n    }) && !force) {\n      return;\n    }\n\n    setSkip(getSkipForPage({\n      page: page,\n      limit: limit\n    }));\n  };\n\n  var hasNext = function hasNext() {\n    return hasNextPage({\n      skip: skip,\n      limit: limit,\n      count: paginationCount\n    });\n  };\n\n  var hasPrev = function hasPrev() {\n    return hasPrevPage({\n      skip: skip,\n      limit: limit,\n      count: paginationCount\n    });\n  };\n\n  var gotoFirstPage = function gotoFirstPage() {\n    return gotoPage(1);\n  };\n\n  var gotoLastPage = function gotoLastPage() {\n    return gotoPage(getPageCount({\n      count: paginationCount,\n      limit: limit\n    }));\n  };\n\n  var paginationProps;\n\n  if ((localPagination || remotePagination) && !livePagination) {\n    paginationProps = {\n      onSkipChange: setSkip,\n      onLimitChange: setLimit,\n      reload: reload,\n      onRefresh: reload,\n      totalCount: paginationCount,\n      count: count,\n      skip: skip,\n      limit: limit,\n      remotePagination: remotePagination,\n      localPagination: localPagination,\n      livePagination: livePagination,\n      pagination: pagination,\n      gotoPage: gotoPage,\n      gotoNextPage: gotoNextPage,\n      gotoFirstPage: gotoFirstPage,\n      gotoLastPage: gotoLastPage,\n      gotoPrevPage: gotoPrevPage,\n      hasNextPage: hasNext,\n      hasPrevPage: hasPrev\n    };\n  }\n\n  return {\n    count: count,\n    paginationCount: paginationCount,\n    reload: reload,\n    setSkip: setSkip,\n    setLimit: setLimit,\n    gotoNextPage: gotoNextPage,\n    gotoPrevPage: gotoPrevPage,\n    hasNextPage: hasNext,\n    hasPrevPage: hasPrev,\n    gotoFirstPage: gotoFirstPage,\n    gotoLastPage: gotoLastPage,\n    gotoPage: gotoPage,\n    paginationProps: paginationProps\n  };\n};\n\nvar useDataSourceCache = function useDataSourceCache(props, computedProps, computedPropsRef) {\n  var prevDataSource = (0, _usePrevious.default)(props.dataSource, props.dataSource);\n\n  var _useProperty = (0, _useProperty7.default)(props, 'dataSourceCache', undefined, {\n    onChange: function onChange(dataSourceCache, info) {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      if (computedProps.initialProps.onDataSourceCacheChange) {\n        computedProps.initialProps.onDataSourceCacheChange(dataSourceCache, info);\n      }\n    }\n  }),\n      _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n      dataSourceCache = _useProperty2[0],\n      setDataSourceCache = _useProperty2[1];\n\n  if (props.clearDataSourceCacheOnChange && prevDataSource !== props.dataSource) {\n    dataSourceCache = undefined;\n  }\n\n  (0, _react.useLayoutEffect)(function () {\n    if (props.clearDataSourceCacheOnChange) {\n      setDataSourceCache(undefined);\n    }\n  }, [props.dataSource]);\n  return [dataSourceCache, setDataSourceCache];\n};\n\nvar _default = function _default(props, computedProps, computedPropsRef) {\n  var computedRemoteData = isRemoteData(props);\n  var computedRemoteFilter = isRemoteFilter(props);\n  var computedRemoteSort = isRemoteSort(props);\n  var computedLivePagination = isLivePagination(props);\n  var computedRemotePagination = isRemotePagination(props);\n  var computedLocalPagination = isLocalPagination(props);\n  var computedPagination = computedRemotePagination || computedLocalPagination;\n\n  var _useState5 = (0, _react.useState)([]),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      ungroupedData = _useState6[0],\n      setUngroupedData = _useState6[1];\n\n  var _useState7 = (0, _react.useState)([]),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      loadDataTrigger = _useState8[0],\n      setLoadDataTrigger = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(false),\n      _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n      append = _useState10[0],\n      setAppend = _useState10[1];\n\n  var _useProperty3 = (0, _useProperty7.default)(props, 'skip', 0),\n      _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n      computedSkip = _useProperty4[0],\n      setSkip = _useProperty4[1];\n\n  var _useProperty5 = (0, _useProperty7.default)(props, 'limit', 50),\n      _useProperty6 = (0, _slicedToArray2.default)(_useProperty5, 2),\n      computedLimit = _useProperty6[0],\n      setLimit = _useProperty6[1];\n\n  var _useDataSourceCache = useDataSourceCache(props, computedProps, computedPropsRef),\n      _useDataSourceCache2 = (0, _slicedToArray2.default)(_useDataSourceCache, 2),\n      computedDataSourceCache = _useDataSourceCache2[0],\n      setDataSourceCache = _useDataSourceCache2[1];\n\n  var _useState11 = (0, _react.useState)(props.summaryReducer ? props.summaryReducer.initialValue : null),\n      _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n      summary = _useState12[0],\n      setSummary = _useState12[1];\n\n  var setItemOnReorderingGroups = function setItemOnReorderingGroups(index, item, config) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    computedProps.setItemAt(index, item, config);\n    computedProps.reload();\n  };\n\n  var setItemAt = function setItemAt(index, item, config) {\n    var replace = config && config.replace;\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var newItem = computedProps.getItemAt(index);\n    var oldId = computedProps.getItemId(newItem);\n\n    if (!newItem) {\n      return;\n    }\n\n    if (replace) {\n      newItem = item;\n    } else {\n      if (config && config.property) {\n        newItem = _objectSpread(_objectSpread({}, newItem), {}, (0, _defineProperty2.default)({}, config.property, config.value));\n      } else {\n        if (config && config.deepCloning && computedProps.compoundIdProperty) {\n          var parts = computedProps.idProperty.split(computedProps.idPropertySeparator);\n\n          for (var i = 0; i < parts.length; i++) {\n            var part = parts[i];\n\n            if (newItem[part]) {\n              Object.assign(newItem[part], _objectSpread({}, item[part]));\n            }\n          }\n        } else {\n          newItem = _objectSpread(_objectSpread({}, newItem), item);\n        }\n      }\n    }\n\n    var newId = computedProps.getItemId(newItem);\n\n    if (newId !== oldId) {\n      if (computedProps.showWarnings) {\n        console.error(\"Cannot replace the item with another one that has a different value for the idProperty!\");\n      }\n\n      return;\n    }\n\n    setDataSourceCache(_objectSpread(_objectSpread({}, computedProps.computedDataSourceCache), {}, (0, _defineProperty2.default)({}, newId, newItem)));\n  };\n\n  var setItemsAt = function setItemsAt(items, config) {\n    var replace = config && config.replace;\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var newIds = {};\n\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n      var oldId = computedProps.getItemId(item);\n      var index = computedProps.getItemIndex(item);\n      var newItem = computedProps.getItemAt(index);\n\n      if (!newItem) {\n        continue;\n      }\n\n      if (replace) {\n        newItem = item;\n      } else {\n        newItem = _objectSpread(_objectSpread({}, newItem), item);\n      }\n\n      var newId = computedProps.getItemId(newItem);\n\n      if (newId !== oldId) {\n        continue;\n      }\n\n      newIds[newId] = newItem;\n    }\n\n    if (!items.length) {\n      return;\n    }\n\n    setDataSourceCache(_objectSpread(_objectSpread({}, computedProps.computedDataSourceCache), newIds));\n  };\n\n  var setItemPropertyAt = function setItemPropertyAt(index, property, value) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (property === computedProps.idProperty) {\n      if (computedProps.showWarnings) {\n        console.error(\"Cannot update the value of the \\\"idProperty\\\" property!\");\n      }\n    }\n\n    var item = computedProps.getItemAt(index);\n\n    if (item) {\n      item = _objectSpread({}, item);\n      item[property] = value;\n      setItemAt(index, item, {\n        property: property,\n        value: value\n      });\n    }\n  };\n\n  var setItemPropertyForId = function setItemPropertyForId(id, property, value) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var index = computedProps.getRowIndexById(id);\n    setItemPropertyAt(index, property, value);\n  };\n\n  var _useData = useData({\n    dataSource: props.dataSource,\n    skip: computedSkip,\n    limit: computedLimit,\n    localPagination: computedLocalPagination\n  }, props.context),\n      data = _useData.data,\n      dataMap = _useData.dataMap,\n      dataIndexMap = _useData.dataIndexMap,\n      setDataIndexMap = _useData.setDataIndexMap,\n      setDataMap = _useData.setDataMap,\n      count = _useData.count,\n      silentSetData = _useData.silentSetData,\n      setCount = _useData.setCount,\n      originalData = _useData.originalData,\n      setOriginalData = _useData.setOriginalData,\n      dataCountAfterFilter = _useData.dataCountAfterFilter,\n      setDataCountAfterFilter = _useData.setDataCountAfterFilter;\n\n  var _useState13 = (0, _react.useState)(Date.now),\n      _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n      reloadTimestamp = _useState14[0],\n      setReloadTimestamp = _useState14[1];\n\n  var reload = function reload() {\n    setReloadTimestamp(Date.now());\n  };\n\n  var getFilteredRows = (0, _react.useCallback)(function (dataCount) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var filteredRowsCount = computedProps.filteredRowsCount;\n\n    if (dataCount === undefined) {\n      return;\n    }\n\n    if (filteredRowsCount) {\n      filteredRowsCount(dataCount);\n    }\n  }, [dataCountAfterFilter]);\n\n  if (computedProps.filteredRowsCount) {\n    getFilteredRows(dataCountAfterFilter);\n  }\n\n  var lastSkipRef = (0, _react.useRef)(computedSkip);\n  var lastFilterValueRef = (0, _react.useRef)(computedProps.computedFilterValue);\n  var lastLimitRef = (0, _react.useRef)(computedLimit);\n  var lastGroupBy = (0, _usePrevious.default)(computedProps.computedGroupBy, computedProps.computedGroupBy);\n  var lastDataSource = (0, _usePrevious.default)(props.dataSource, props.dataSource);\n  var dataPromiseRef = (0, _react.useRef)(null);\n  dataPromiseRef.current = (0, _useLoadDataEffect.default)({\n    getDataSource: function getDataSource(_ref8) {\n      var shouldReload = _ref8.shouldReload;\n      var computedProps = computedPropsRef.current;\n      return shouldReload ? computedProps.dataSource : computedProps.originalData;\n    }\n  }, function (dataToLoad, _ref9) {\n    var shouldReload = _ref9.shouldReload,\n        intercept = _ref9.intercept;\n    var _computedPropsRef$cur = computedPropsRef.current,\n        computedSortInfo = _computedPropsRef$cur.computedSortInfo,\n        computedRemoteData = _computedPropsRef$cur.computedRemoteData,\n        computedFilterValue = _computedPropsRef$cur.computedFilterValue,\n        computedGroupBy = _computedPropsRef$cur.computedGroupBy,\n        prevOriginalData = _computedPropsRef$cur.originalData,\n        skipLoadOnMount = _computedPropsRef$cur.skipLoadOnMount,\n        wasMountedRef = _computedPropsRef$cur.wasMountedRef,\n        initialState = _computedPropsRef$cur.initialState;\n\n    if (!prevOriginalData.length && computedRemoteData) {\n      computedPropsRef.current.setLoading(true);\n    }\n\n    var initialCount;\n\n    if (skipLoadOnMount && !wasMountedRef.current && initialState && initialState.data) {\n      dataToLoad = initialState.data;\n      initialCount = initialState.count;\n    }\n\n    if (computedRemoteData && !Array.isArray(dataToLoad)) {\n      computedPropsRef.current.setLoading(true);\n    }\n\n    var skipControlled = (0, _isControlledProperty.default)(computedProps.initialProps, 'skip');\n    var shouldResetSkip = shouldReload && typeof props.dataSource === 'function' && props.dataSource !== lastDataSource && !skipControlled && computedPropsRef.current.computedSkip !== 0;\n\n    if (!shouldResetSkip) {\n      if (shouldReload && typeof props.dataSource === 'function' && computedPropsRef.current.computedSkip !== 0 && computedPropsRef.current.computedFilterable && (!(0, _fastDeepEqual.default)(computedPropsRef.current.computedFilterValue, lastFilterValueRef.current) || computedPropsRef.current.computedGroupBy !== lastGroupBy)) {\n        shouldResetSkip = true;\n      }\n    }\n\n    if (shouldResetSkip) {\n      setSkip(0);\n      return Promise.resolve(true);\n    }\n\n    return intercept(loadDataSource(dataToLoad, {\n      sortInfo: computedSortInfo,\n      currentData: computedPropsRef.current.data,\n      skip: computedSkip,\n      limit: computedLimit,\n      filterValue: computedFilterValue,\n      groupBy: computedGroupBy\n    }), dataToLoad).then(function (_ref10) {\n      var originalData = _ref10.data,\n          count = _ref10.count;\n\n      if (initialCount) {\n        count = initialCount;\n      }\n\n      var computedProps = computedPropsRef.current;\n      var queue = (0, _batchUpdate.default)();\n      var data = originalData;\n      var shouldAppend = computedLivePagination && !shouldReload ? computedSkip > lastSkipRef.current : append;\n\n      if (shouldAppend) {\n        originalData = prevOriginalData.concat(originalData);\n        data = originalData;\n      }\n\n      var computeDataResult = (0, _computeData.default)({\n        remoteData: false,\n        originalData: originalData\n      }, computedProps, queue);\n      data = computeDataResult.data || originalData;\n      var dataCountAfterFilter = computeDataResult.dataCountAfterFilter;\n      var prevComputedSkip = lastSkipRef.current;\n      lastSkipRef.current = computedSkip;\n      lastFilterValueRef.current = computedFilterValue;\n      lastLimitRef.current = computedLimit;\n      var shouldIndexData = computedProps.computedRowSelectionEnabled || computedProps.computedRowExpandEnabled || computedProps.treeColumn || computedProps.treeEnabled || computedProps.rowIndexColumn || computedProps.computedRowHeights || computedProps.computedGroupBy && props.stickyGroupRows;\n      var dataIndexMap = shouldIndexData && Array.isArray(data) ? {} : null;\n      var stickyGroupsIndexes = props.stickyGroupRows === true || props.stickyTreeNodes === true ? {} : null;\n      var dataMap = shouldIndexData && Array.isArray(data) ? data.reduce(function (acc, item, index) {\n        var id = computedProps.getItemId(item);\n\n        if (stickyGroupsIndexes) {\n          if (item.__group) {\n            stickyGroupsIndexes[index] = item.depth;\n          }\n\n          if (item.__nodeProps && !item.__nodeProps.leafNode) {\n            stickyGroupsIndexes[index] = item.__nodeProps.depth + 1;\n          }\n        }\n\n        acc[id] = item;\n        dataIndexMap[id] = index;\n        return acc;\n      }, {}) : null;\n      return queue.commit(function () {\n        var computedProps = computedPropsRef.current;\n        setOriginalData(originalData);\n\n        if (computedProps.scrollTopOnSort && computedProps.loadDataTrigger.find(function (s) {\n          return s == 'sortInfo';\n        })) {\n          raf(function () {\n            computedProps.setScrollTop(0);\n          });\n        }\n\n        if (computedSkip === 0 && prevComputedSkip > 0) {\n          raf(function () {\n            computedProps.setScrollTop(0);\n          });\n        }\n\n        if (computedProps.scrollTopOnFilter && computedProps.loadDataTrigger.find(function (s) {\n          return s == 'filterValue';\n        })) {\n          raf(function () {\n            computedProps.setScrollTop(0);\n          });\n        }\n\n        setLoadDataTrigger([]);\n\n        if (append) {\n          setAppend(false);\n        }\n\n        computedProps.setDataMap(dataMap);\n        computedProps.setDataIndexMap(dataIndexMap);\n\n        if (stickyGroupsIndexes && computedProps.setStickyGroupsIndexes) {\n          computedProps.setStickyGroupsIndexes(stickyGroupsIndexes);\n        }\n\n        setDataCountAfterFilter(dataCountAfterFilter);\n\n        if (dataCountAfterFilter != null && computedSkip >= dataCountAfterFilter && !computedRemoteData) {\n          setSkip(0);\n        }\n\n        silentSetData(data || []);\n        computedProps.setLoading(false);\n\n        if (shouldReload) {\n          setCount(count);\n        }\n      });\n    }, function (_err) {});\n  }, {\n    reloadDeps: [props.dataSource, computedRemoteData ? computedSkip : null, computedRemoteData && !computedLivePagination ? computedLimit : null, reloadTimestamp, props.pagination, props.remotePagination, props.pivot, props.livePagination, computedRemoteData || props.groupBy ? computedProps.computedGroupBy : null, computedRemoteData ? JSON.stringify(computedProps.computedSortInfo) : null, computedRemoteData ? JSON.stringify(computedProps.computedFilterValue) : null, computedRemoteFilter ? JSON.stringify(computedProps.computedFilterValue) : null, JSON.stringify(computedProps.computedCollapsedGroups || ''), JSON.stringify(computedProps.computedExpandedGroups || '')],\n    noReloadDeps: [originalData, computedProps.computedGroupBy, computedProps.groupColumn, computedProps.renderRowDetails, computedProps.treeColumn, computedProps.showGroupSummaryRow, !computedRemoteData ? computedSkip : null, !computedRemoteData ? computedLimit : null, !computedRemoteData ? JSON.stringify(computedProps.computedSortInfo) : null, !computedRemoteFilter ? JSON.stringify(computedProps.computedFilterValue) : null, computedProps.computedExpandedNodes ? JSON.stringify(computedProps.computedExpandedNodes) : null, computedProps.computedNodeCache ? JSON.stringify(computedProps.computedNodeCache) : null, computedProps.computedLoadingNodes ? JSON.stringify(computedProps.computedLoadingNodes) : null, computedDataSourceCache, computedProps.stickyGroupRows]\n  });\n  var paginationProps = usePagination({\n    append: append,\n    reload: reload,\n    setAppend: setAppend,\n    lastSkipRef: lastSkipRef,\n    lastLimitRef: lastLimitRef,\n    skip: computedSkip,\n    limit: computedLimit,\n    count: count,\n    setSkip: setSkip,\n    setLimit: setLimit,\n    pagination: computedPagination,\n    livePagination: computedLivePagination,\n    localPagination: computedLocalPagination,\n    remotePagination: computedRemotePagination,\n    dataCountAfterFilter: dataCountAfterFilter,\n    originalData: originalData,\n    data: data\n  }, computedPropsRef);\n  var getRowIndexById = (0, _react.useCallback)(function (rowId, data) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return -1;\n    }\n\n    var dataIndexMap = computedProps.dataIndexMap;\n\n    if (dataIndexMap) {\n      return dataIndexMap[rowId];\n    }\n\n    data = data || computedProps.data;\n    return (0, _getIndexBy.default)(data, computedProps.idProperty, rowId, computedProps.getItemId, computedProps.compoundIdProperty);\n  }, []);\n  var getItemIndexById = (0, _react.useCallback)(function (id, data) {\n    return getRowIndexById(id, data);\n  }, []);\n  var getData = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return [];\n    }\n\n    return computedProps.data;\n  }, []);\n  return _objectSpread({\n    getData: getData,\n    getRowIndexById: getRowIndexById,\n    getItemIndexById: getItemIndexById,\n    data: data,\n    dataMap: dataMap,\n    setDataMap: setDataMap,\n    dataIndexMap: dataIndexMap,\n    setDataIndexMap: setDataIndexMap,\n    loadDataTrigger: loadDataTrigger,\n    setLoadDataTrigger: setLoadDataTrigger,\n    originalData: originalData,\n    setOriginalData: setOriginalData,\n    ungroupedData: ungroupedData,\n    setUngroupedData: setUngroupedData,\n    computedSkip: computedSkip,\n    computedPagination: computedPagination,\n    computedLimit: computedLimit,\n    computedSummary: summary,\n    setSummary: setSummary,\n    dataPromiseRef: dataPromiseRef,\n    silentSetData: silentSetData,\n    computedLivePagination: computedLivePagination,\n    computedLocalPagination: computedLocalPagination,\n    computedRemotePagination: computedRemotePagination,\n    computedRemoteData: computedRemoteData,\n    computedRemoteFilter: computedRemoteFilter,\n    computedRemoteSort: computedRemoteSort,\n    computedDataSourceCache: computedDataSourceCache,\n    setDataSourceCache: setDataSourceCache,\n    setItemPropertyAt: setItemPropertyAt,\n    setItemPropertyForId: setItemPropertyForId,\n    setItemAt: setItemAt,\n    setItemsAt: setItemsAt,\n    setItemOnReorderingGroups: setItemOnReorderingGroups\n  }, paginationProps);\n};\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/리액트/인터로거/ILP-main/node_modules/@inovua/reactdatagrid-community/hooks/useDataSource/index.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","isLivePagination","default","_toConsumableArray2","_defineProperty2","_slicedToArray2","_react","_clamp","_getIndexBy","_fastDeepEqual","_useLoadDataEffect","_useProperty7","_useNamedState9","_computeData","_batchUpdate","_usePrevious","_isControlledProperty","_getGlobal","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","globalObject","getGlobal","raf","requestAnimationFrame","isRemoteData","props","dataSource","then","isRemoteSort","remoteSort","undefined","isRemoteFilter","remoteFilter","isPagination","pagination","isLocalPagination","isRemotePagination","livePagination","remotePagination","loadDataSource","_ref","skip","limit","currentData","sortInfo","filterValue","groupBy","Promise","result","Array","isArray","data","count","resolve","useData","_ref2","context","localPagination","silentSetData","_useNamedState","_useNamedState2","_useState","useState","_useState2","dataMap","setDataMap","_useState3","_useState4","dataIndexMap","setDataIndexMap","originalData","setOriginalData","_useNamedState3","_useNamedState4","_useNamedState5","_useNamedState6","setCount","_useNamedState7","_useNamedState8","dataCountAfterFilter","setDataCountAfterFilter","getDataCountForPagination","paginationCount","getCurrentPage","Math","floor","getPageCount","_ref3","ceil","getSkipForPage","_ref4","page","max","hasNextPage","_ref5","hasPrevPage","_ref6","currentPage","usePagination","_ref7","computedPropsRef","append","reload","setAppend","silentSetSkip","setSkip","silentSetLimit","setLimit","lastSkipRef","lastLimitRef","setLimitOrSkip","computedProps","config","queue","current","computedRemoteData","commit","setLoadDataTrigger","loadDataTrigger","concat","incrementSkip","amount","gotoNextPage","gotoPrevPage","gotoPage","force","hasNext","hasPrev","gotoFirstPage","gotoLastPage","paginationProps","onSkipChange","onLimitChange","onRefresh","totalCount","useDataSourceCache","prevDataSource","_useProperty","onChange","dataSourceCache","info","initialProps","onDataSourceCacheChange","_useProperty2","setDataSourceCache","clearDataSourceCacheOnChange","useLayoutEffect","_default","computedRemoteFilter","computedRemoteSort","computedLivePagination","computedRemotePagination","computedLocalPagination","computedPagination","_useState5","_useState6","ungroupedData","setUngroupedData","_useState7","_useState8","_useState9","_useState10","_useProperty3","_useProperty4","computedSkip","_useProperty5","_useProperty6","computedLimit","_useDataSourceCache","_useDataSourceCache2","computedDataSourceCache","_useState11","summaryReducer","initialValue","_useState12","summary","setSummary","setItemOnReorderingGroups","index","item","setItemAt","replace","newItem","getItemAt","oldId","getItemId","property","deepCloning","compoundIdProperty","parts","idProperty","split","idPropertySeparator","part","assign","newId","showWarnings","console","error","setItemsAt","items","newIds","getItemIndex","setItemPropertyAt","setItemPropertyForId","id","getRowIndexById","_useData","_useState13","Date","now","_useState14","reloadTimestamp","setReloadTimestamp","getFilteredRows","useCallback","dataCount","filteredRowsCount","useRef","lastFilterValueRef","computedFilterValue","lastGroupBy","computedGroupBy","lastDataSource","dataPromiseRef","getDataSource","_ref8","shouldReload","dataToLoad","_ref9","intercept","_computedPropsRef$cur","computedSortInfo","prevOriginalData","skipLoadOnMount","wasMountedRef","initialState","setLoading","initialCount","skipControlled","shouldResetSkip","computedFilterable","_ref10","shouldAppend","computeDataResult","remoteData","prevComputedSkip","shouldIndexData","computedRowSelectionEnabled","computedRowExpandEnabled","treeColumn","treeEnabled","rowIndexColumn","computedRowHeights","stickyGroupRows","stickyGroupsIndexes","stickyTreeNodes","reduce","acc","__group","depth","__nodeProps","leafNode","scrollTopOnSort","find","s","setScrollTop","scrollTopOnFilter","setStickyGroupsIndexes","_err","reloadDeps","pivot","JSON","stringify","computedCollapsedGroups","computedExpandedGroups","noReloadDeps","groupColumn","renderRowDetails","showGroupSummaryRow","computedExpandedNodes","computedNodeCache","computedLoadingNodes","rowId","getItemIndexById","getData","computedSummary"],"mappings":"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","sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isLivePagination = exports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = require(\"react\");\n\nvar _clamp = _interopRequireDefault(require(\"../../utils/clamp\"));\n\nvar _getIndexBy = _interopRequireDefault(require(\"../../utils/getIndexBy\"));\n\nvar _fastDeepEqual = _interopRequireDefault(require(\"fast-deep-equal\"));\n\nvar _useLoadDataEffect = _interopRequireDefault(require(\"../useLoadDataEffect\"));\n\nvar _useProperty7 = _interopRequireDefault(require(\"../useProperty\"));\n\nvar _useNamedState9 = _interopRequireDefault(require(\"../useNamedState\"));\n\nvar _computeData = _interopRequireDefault(require(\"./computeData\"));\n\nvar _batchUpdate = _interopRequireDefault(require(\"../../utils/batchUpdate\"));\n\nvar _usePrevious = _interopRequireDefault(require(\"../usePrevious\"));\n\nvar _isControlledProperty = _interopRequireDefault(require(\"../../utils/isControlledProperty\"));\n\nvar _getGlobal = require(\"../../getGlobal\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar raf = globalObject.requestAnimationFrame;\n\nvar isRemoteData = function isRemoteData(props) {\n  if (props.dataSource == null) {\n    return false;\n  }\n\n  return typeof props.dataSource.then === 'function' || typeof props.dataSource === 'function';\n};\n\nvar isRemoteSort = function isRemoteSort(props) {\n  var remoteSort = props.remoteSort;\n  return remoteSort === true || remoteSort === undefined && isRemoteData(props);\n};\n\nvar isRemoteFilter = function isRemoteFilter(props) {\n  var remoteFilter = props.remoteFilter;\n  return remoteFilter === true || remoteFilter === undefined && isRemoteData(props);\n};\n\nvar isPagination = function isPagination(props) {\n  return !!props.pagination;\n};\n\nvar isLocalPagination = function isLocalPagination(props) {\n  return isPagination(props) && !isRemotePagination(props);\n};\n\nvar isLivePagination = function isLivePagination(props) {\n  return !!props.livePagination && isRemotePagination(props);\n};\n\nexports.isLivePagination = isLivePagination;\n\nvar isRemotePagination = function isRemotePagination(props) {\n  var remotePagination = props.remotePagination,\n      pagination = props.pagination,\n      livePagination = props.livePagination;\n\n  if (pagination === false || pagination === 'local') {\n    return false;\n  }\n\n  if (pagination === 'remote' || isRemoteData(props)) {\n    return true;\n  }\n\n  if (remotePagination !== undefined) {\n    return remotePagination;\n  }\n\n  return !!livePagination;\n};\n\nvar loadDataSource = function loadDataSource(dataSource, _ref) {\n  var skip = _ref.skip,\n      limit = _ref.limit,\n      currentData = _ref.currentData,\n      sortInfo = _ref.sortInfo,\n      filterValue = _ref.filterValue,\n      groupBy = _ref.groupBy;\n\n  if (typeof dataSource === 'function') {\n    dataSource = loadDataSource(dataSource({\n      skip: skip,\n      limit: limit,\n      sortInfo: sortInfo,\n      currentData: currentData,\n      filterValue: filterValue,\n      groupBy: groupBy\n    }), {\n      skip: skip,\n      limit: limit,\n      sortInfo: sortInfo,\n      groupBy: groupBy,\n      filterValue: filterValue,\n      currentData: currentData\n    });\n  }\n\n  if (dataSource instanceof Promise) {\n    return dataSource.then(function (result) {\n      if (Array.isArray(result)) {\n        return {\n          data: result,\n          count: result.length\n        };\n      }\n\n      return {\n        data: result.data,\n        count: result.count\n      };\n    });\n  }\n\n  return Promise.resolve({\n    data: dataSource,\n    count: dataSource.length\n  });\n};\n\nvar useData = function useData(_ref2, context) {\n  var dataSource = _ref2.dataSource,\n      skip = _ref2.skip,\n      limit = _ref2.limit,\n      localPagination = _ref2.localPagination;\n  var data;\n  var silentSetData;\n\n  var _useNamedState = (0, _useNamedState9.default)([], context, 'data');\n\n  var _useNamedState2 = (0, _slicedToArray2.default)(_useNamedState, 2);\n\n  data = _useNamedState2[0];\n  silentSetData = _useNamedState2[1];\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      dataMap = _useState2[0],\n      setDataMap = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      dataIndexMap = _useState4[0],\n      setDataIndexMap = _useState4[1];\n\n  var originalData;\n  var setOriginalData;\n\n  var _useNamedState3 = (0, _useNamedState9.default)(Array.isArray(dataSource) ? dataSource : [], context, 'originalData');\n\n  var _useNamedState4 = (0, _slicedToArray2.default)(_useNamedState3, 2);\n\n  originalData = _useNamedState4[0];\n  setOriginalData = _useNamedState4[1];\n\n  var _useNamedState5 = (0, _useNamedState9.default)(data.length, context, 'count'),\n      _useNamedState6 = (0, _slicedToArray2.default)(_useNamedState5, 2),\n      count = _useNamedState6[0],\n      setCount = _useNamedState6[1];\n\n  var _useNamedState7 = (0, _useNamedState9.default)(0, context, 'dataCountAfterFilter'),\n      _useNamedState8 = (0, _slicedToArray2.default)(_useNamedState7, 2),\n      dataCountAfterFilter = _useNamedState8[0],\n      setDataCountAfterFilter = _useNamedState8[1];\n\n  return {\n    setDataMap: setDataMap,\n    dataMap: dataMap,\n    dataIndexMap: dataIndexMap,\n    setDataIndexMap: setDataIndexMap,\n    originalData: originalData,\n    setOriginalData: setOriginalData,\n    data: data,\n    count: count,\n    dataCountAfterFilter: dataCountAfterFilter,\n    silentSetData: silentSetData,\n    setDataCountAfterFilter: setDataCountAfterFilter,\n    setCount: setCount\n  };\n};\n\nvar getDataCountForPagination = function getDataCountForPagination(props) {\n  var paginationCount = props.remotePagination ? props.count : props.dataCountAfterFilter != null ? props.dataCountAfterFilter : props.originalData.length;\n  return paginationCount;\n};\n\nvar getCurrentPage = function getCurrentPage(props) {\n  return Math.floor(props.skip / props.limit) + 1;\n};\n\nvar getPageCount = function getPageCount(_ref3) {\n  var count = _ref3.count,\n      limit = _ref3.limit;\n  return Math.ceil(count / limit);\n};\n\nvar getSkipForPage = function getSkipForPage(_ref4) {\n  var page = _ref4.page,\n      limit = _ref4.limit;\n  return Math.max(0, limit * (page - 1));\n};\n\nvar hasNextPage = function hasNextPage(_ref5) {\n  var skip = _ref5.skip,\n      limit = _ref5.limit,\n      count = _ref5.count;\n  return getCurrentPage({\n    skip: skip,\n    limit: limit\n  }) < getPageCount({\n    count: count,\n    limit: limit\n  });\n};\n\nvar hasPrevPage = function hasPrevPage(_ref6) {\n  var skip = _ref6.skip,\n      limit = _ref6.limit,\n      count = _ref6.count;\n  var currentPage = getCurrentPage({\n    skip: skip,\n    limit: limit\n  });\n  return currentPage > 1 && currentPage - 1 < getPageCount({\n    count: count,\n    limit: limit\n  });\n};\n\nvar usePagination = function usePagination(_ref7, computedPropsRef) {\n  var append = _ref7.append,\n      reload = _ref7.reload,\n      setAppend = _ref7.setAppend,\n      skip = _ref7.skip,\n      limit = _ref7.limit,\n      count = _ref7.count,\n      silentSetSkip = _ref7.setSkip,\n      silentSetLimit = _ref7.setLimit,\n      remotePagination = _ref7.remotePagination,\n      localPagination = _ref7.localPagination,\n      pagination = _ref7.pagination,\n      lastSkipRef = _ref7.lastSkipRef,\n      lastLimitRef = _ref7.lastLimitRef,\n      dataCountAfterFilter = _ref7.dataCountAfterFilter,\n      livePagination = _ref7.livePagination,\n      originalData = _ref7.originalData,\n      data = _ref7.data;\n  var paginationCount = getDataCountForPagination({\n    originalData: originalData,\n    remotePagination: remotePagination,\n    count: count,\n    dataCountAfterFilter: dataCountAfterFilter\n  });\n\n  var setLimitOrSkip = function setLimitOrSkip(computedProps, config, queue) {\n    return (0, _computeData.default)(_objectSpread(_objectSpread({\n      skip: skip,\n      limit: limit\n    }, config), {}, {\n      localPagination: localPagination\n    }), computedProps, queue);\n  };\n\n  var setSkip = function setSkip(skip, config) {\n    var computedProps = computedPropsRef.current;\n    var queue = (0, _batchUpdate.default)();\n    var computedRemoteData = computedProps.computedRemoteData;\n    queue.commit(function () {\n      if (config && config.append !== undefined) {\n        setAppend(config.append);\n      }\n\n      if (computedRemoteData) {\n        computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n          return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['skip']);\n        });\n      }\n\n      silentSetSkip(skip);\n    });\n  };\n\n  var setLimit = function setLimit(limit) {\n    var computedProps = computedPropsRef.current;\n    var queue = (0, _batchUpdate.default)();\n    var computedRemoteData = computedProps.computedRemoteData;\n    queue.commit(function () {\n      if (computedRemoteData) {\n        computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n          return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['limit']);\n        });\n      }\n\n      silentSetLimit(limit);\n    });\n  };\n\n  var incrementSkip = function incrementSkip(amount, config) {\n    setSkip(skip + amount, config);\n  };\n\n  var gotoNextPage = function gotoNextPage(config) {\n    if (hasNextPage({\n      skip: skip,\n      limit: lastLimitRef.current,\n      count: paginationCount\n    })) {\n      incrementSkip(lastLimitRef.current, config);\n    }\n  };\n\n  var gotoPrevPage = function gotoPrevPage() {\n    if (hasPrevPage({\n      skip: skip,\n      limit: limit,\n      count: paginationCount\n    })) {\n      incrementSkip(-limit);\n    }\n  };\n\n  var gotoPage = function gotoPage(page, config) {\n    page = (0, _clamp.default)(page, 1, getPageCount({\n      count: paginationCount,\n      limit: limit\n    }));\n    var force = config ? config.force : false;\n\n    if (page === getCurrentPage({\n      skip: skip,\n      limit: limit\n    }) && !force) {\n      return;\n    }\n\n    setSkip(getSkipForPage({\n      page: page,\n      limit: limit\n    }));\n  };\n\n  var hasNext = function hasNext() {\n    return hasNextPage({\n      skip: skip,\n      limit: limit,\n      count: paginationCount\n    });\n  };\n\n  var hasPrev = function hasPrev() {\n    return hasPrevPage({\n      skip: skip,\n      limit: limit,\n      count: paginationCount\n    });\n  };\n\n  var gotoFirstPage = function gotoFirstPage() {\n    return gotoPage(1);\n  };\n\n  var gotoLastPage = function gotoLastPage() {\n    return gotoPage(getPageCount({\n      count: paginationCount,\n      limit: limit\n    }));\n  };\n\n  var paginationProps;\n\n  if ((localPagination || remotePagination) && !livePagination) {\n    paginationProps = {\n      onSkipChange: setSkip,\n      onLimitChange: setLimit,\n      reload: reload,\n      onRefresh: reload,\n      totalCount: paginationCount,\n      count: count,\n      skip: skip,\n      limit: limit,\n      remotePagination: remotePagination,\n      localPagination: localPagination,\n      livePagination: livePagination,\n      pagination: pagination,\n      gotoPage: gotoPage,\n      gotoNextPage: gotoNextPage,\n      gotoFirstPage: gotoFirstPage,\n      gotoLastPage: gotoLastPage,\n      gotoPrevPage: gotoPrevPage,\n      hasNextPage: hasNext,\n      hasPrevPage: hasPrev\n    };\n  }\n\n  return {\n    count: count,\n    paginationCount: paginationCount,\n    reload: reload,\n    setSkip: setSkip,\n    setLimit: setLimit,\n    gotoNextPage: gotoNextPage,\n    gotoPrevPage: gotoPrevPage,\n    hasNextPage: hasNext,\n    hasPrevPage: hasPrev,\n    gotoFirstPage: gotoFirstPage,\n    gotoLastPage: gotoLastPage,\n    gotoPage: gotoPage,\n    paginationProps: paginationProps\n  };\n};\n\nvar useDataSourceCache = function useDataSourceCache(props, computedProps, computedPropsRef) {\n  var prevDataSource = (0, _usePrevious.default)(props.dataSource, props.dataSource);\n\n  var _useProperty = (0, _useProperty7.default)(props, 'dataSourceCache', undefined, {\n    onChange: function onChange(dataSourceCache, info) {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      if (computedProps.initialProps.onDataSourceCacheChange) {\n        computedProps.initialProps.onDataSourceCacheChange(dataSourceCache, info);\n      }\n    }\n  }),\n      _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n      dataSourceCache = _useProperty2[0],\n      setDataSourceCache = _useProperty2[1];\n\n  if (props.clearDataSourceCacheOnChange && prevDataSource !== props.dataSource) {\n    dataSourceCache = undefined;\n  }\n\n  (0, _react.useLayoutEffect)(function () {\n    if (props.clearDataSourceCacheOnChange) {\n      setDataSourceCache(undefined);\n    }\n  }, [props.dataSource]);\n  return [dataSourceCache, setDataSourceCache];\n};\n\nvar _default = function _default(props, computedProps, computedPropsRef) {\n  var computedRemoteData = isRemoteData(props);\n  var computedRemoteFilter = isRemoteFilter(props);\n  var computedRemoteSort = isRemoteSort(props);\n  var computedLivePagination = isLivePagination(props);\n  var computedRemotePagination = isRemotePagination(props);\n  var computedLocalPagination = isLocalPagination(props);\n  var computedPagination = computedRemotePagination || computedLocalPagination;\n\n  var _useState5 = (0, _react.useState)([]),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      ungroupedData = _useState6[0],\n      setUngroupedData = _useState6[1];\n\n  var _useState7 = (0, _react.useState)([]),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      loadDataTrigger = _useState8[0],\n      setLoadDataTrigger = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(false),\n      _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n      append = _useState10[0],\n      setAppend = _useState10[1];\n\n  var _useProperty3 = (0, _useProperty7.default)(props, 'skip', 0),\n      _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n      computedSkip = _useProperty4[0],\n      setSkip = _useProperty4[1];\n\n  var _useProperty5 = (0, _useProperty7.default)(props, 'limit', 50),\n      _useProperty6 = (0, _slicedToArray2.default)(_useProperty5, 2),\n      computedLimit = _useProperty6[0],\n      setLimit = _useProperty6[1];\n\n  var _useDataSourceCache = useDataSourceCache(props, computedProps, computedPropsRef),\n      _useDataSourceCache2 = (0, _slicedToArray2.default)(_useDataSourceCache, 2),\n      computedDataSourceCache = _useDataSourceCache2[0],\n      setDataSourceCache = _useDataSourceCache2[1];\n\n  var _useState11 = (0, _react.useState)(props.summaryReducer ? props.summaryReducer.initialValue : null),\n      _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n      summary = _useState12[0],\n      setSummary = _useState12[1];\n\n  var setItemOnReorderingGroups = function setItemOnReorderingGroups(index, item, config) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    computedProps.setItemAt(index, item, config);\n    computedProps.reload();\n  };\n\n  var setItemAt = function setItemAt(index, item, config) {\n    var replace = config && config.replace;\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var newItem = computedProps.getItemAt(index);\n    var oldId = computedProps.getItemId(newItem);\n\n    if (!newItem) {\n      return;\n    }\n\n    if (replace) {\n      newItem = item;\n    } else {\n      if (config && config.property) {\n        newItem = _objectSpread(_objectSpread({}, newItem), {}, (0, _defineProperty2.default)({}, config.property, config.value));\n      } else {\n        if (config && config.deepCloning && computedProps.compoundIdProperty) {\n          var parts = computedProps.idProperty.split(computedProps.idPropertySeparator);\n\n          for (var i = 0; i < parts.length; i++) {\n            var part = parts[i];\n\n            if (newItem[part]) {\n              Object.assign(newItem[part], _objectSpread({}, item[part]));\n            }\n          }\n        } else {\n          newItem = _objectSpread(_objectSpread({}, newItem), item);\n        }\n      }\n    }\n\n    var newId = computedProps.getItemId(newItem);\n\n    if (newId !== oldId) {\n      if (computedProps.showWarnings) {\n        console.error(\"Cannot replace the item with another one that has a different value for the idProperty!\");\n      }\n\n      return;\n    }\n\n    setDataSourceCache(_objectSpread(_objectSpread({}, computedProps.computedDataSourceCache), {}, (0, _defineProperty2.default)({}, newId, newItem)));\n  };\n\n  var setItemsAt = function setItemsAt(items, config) {\n    var replace = config && config.replace;\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var newIds = {};\n\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n      var oldId = computedProps.getItemId(item);\n      var index = computedProps.getItemIndex(item);\n      var newItem = computedProps.getItemAt(index);\n\n      if (!newItem) {\n        continue;\n      }\n\n      if (replace) {\n        newItem = item;\n      } else {\n        newItem = _objectSpread(_objectSpread({}, newItem), item);\n      }\n\n      var newId = computedProps.getItemId(newItem);\n\n      if (newId !== oldId) {\n        continue;\n      }\n\n      newIds[newId] = newItem;\n    }\n\n    if (!items.length) {\n      return;\n    }\n\n    setDataSourceCache(_objectSpread(_objectSpread({}, computedProps.computedDataSourceCache), newIds));\n  };\n\n  var setItemPropertyAt = function setItemPropertyAt(index, property, value) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (property === computedProps.idProperty) {\n      if (computedProps.showWarnings) {\n        console.error(\"Cannot update the value of the \\\"idProperty\\\" property!\");\n      }\n    }\n\n    var item = computedProps.getItemAt(index);\n\n    if (item) {\n      item = _objectSpread({}, item);\n      item[property] = value;\n      setItemAt(index, item, {\n        property: property,\n        value: value\n      });\n    }\n  };\n\n  var setItemPropertyForId = function setItemPropertyForId(id, property, value) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var index = computedProps.getRowIndexById(id);\n    setItemPropertyAt(index, property, value);\n  };\n\n  var _useData = useData({\n    dataSource: props.dataSource,\n    skip: computedSkip,\n    limit: computedLimit,\n    localPagination: computedLocalPagination\n  }, props.context),\n      data = _useData.data,\n      dataMap = _useData.dataMap,\n      dataIndexMap = _useData.dataIndexMap,\n      setDataIndexMap = _useData.setDataIndexMap,\n      setDataMap = _useData.setDataMap,\n      count = _useData.count,\n      silentSetData = _useData.silentSetData,\n      setCount = _useData.setCount,\n      originalData = _useData.originalData,\n      setOriginalData = _useData.setOriginalData,\n      dataCountAfterFilter = _useData.dataCountAfterFilter,\n      setDataCountAfterFilter = _useData.setDataCountAfterFilter;\n\n  var _useState13 = (0, _react.useState)(Date.now),\n      _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n      reloadTimestamp = _useState14[0],\n      setReloadTimestamp = _useState14[1];\n\n  var reload = function reload() {\n    setReloadTimestamp(Date.now());\n  };\n\n  var getFilteredRows = (0, _react.useCallback)(function (dataCount) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var filteredRowsCount = computedProps.filteredRowsCount;\n\n    if (dataCount === undefined) {\n      return;\n    }\n\n    if (filteredRowsCount) {\n      filteredRowsCount(dataCount);\n    }\n  }, [dataCountAfterFilter]);\n\n  if (computedProps.filteredRowsCount) {\n    getFilteredRows(dataCountAfterFilter);\n  }\n\n  var lastSkipRef = (0, _react.useRef)(computedSkip);\n  var lastFilterValueRef = (0, _react.useRef)(computedProps.computedFilterValue);\n  var lastLimitRef = (0, _react.useRef)(computedLimit);\n  var lastGroupBy = (0, _usePrevious.default)(computedProps.computedGroupBy, computedProps.computedGroupBy);\n  var lastDataSource = (0, _usePrevious.default)(props.dataSource, props.dataSource);\n  var dataPromiseRef = (0, _react.useRef)(null);\n  dataPromiseRef.current = (0, _useLoadDataEffect.default)({\n    getDataSource: function getDataSource(_ref8) {\n      var shouldReload = _ref8.shouldReload;\n      var computedProps = computedPropsRef.current;\n      return shouldReload ? computedProps.dataSource : computedProps.originalData;\n    }\n  }, function (dataToLoad, _ref9) {\n    var shouldReload = _ref9.shouldReload,\n        intercept = _ref9.intercept;\n    var _computedPropsRef$cur = computedPropsRef.current,\n        computedSortInfo = _computedPropsRef$cur.computedSortInfo,\n        computedRemoteData = _computedPropsRef$cur.computedRemoteData,\n        computedFilterValue = _computedPropsRef$cur.computedFilterValue,\n        computedGroupBy = _computedPropsRef$cur.computedGroupBy,\n        prevOriginalData = _computedPropsRef$cur.originalData,\n        skipLoadOnMount = _computedPropsRef$cur.skipLoadOnMount,\n        wasMountedRef = _computedPropsRef$cur.wasMountedRef,\n        initialState = _computedPropsRef$cur.initialState;\n\n    if (!prevOriginalData.length && computedRemoteData) {\n      computedPropsRef.current.setLoading(true);\n    }\n\n    var initialCount;\n\n    if (skipLoadOnMount && !wasMountedRef.current && initialState && initialState.data) {\n      dataToLoad = initialState.data;\n      initialCount = initialState.count;\n    }\n\n    if (computedRemoteData && !Array.isArray(dataToLoad)) {\n      computedPropsRef.current.setLoading(true);\n    }\n\n    var skipControlled = (0, _isControlledProperty.default)(computedProps.initialProps, 'skip');\n    var shouldResetSkip = shouldReload && typeof props.dataSource === 'function' && props.dataSource !== lastDataSource && !skipControlled && computedPropsRef.current.computedSkip !== 0;\n\n    if (!shouldResetSkip) {\n      if (shouldReload && typeof props.dataSource === 'function' && computedPropsRef.current.computedSkip !== 0 && computedPropsRef.current.computedFilterable && (!(0, _fastDeepEqual.default)(computedPropsRef.current.computedFilterValue, lastFilterValueRef.current) || computedPropsRef.current.computedGroupBy !== lastGroupBy)) {\n        shouldResetSkip = true;\n      }\n    }\n\n    if (shouldResetSkip) {\n      setSkip(0);\n      return Promise.resolve(true);\n    }\n\n    return intercept(loadDataSource(dataToLoad, {\n      sortInfo: computedSortInfo,\n      currentData: computedPropsRef.current.data,\n      skip: computedSkip,\n      limit: computedLimit,\n      filterValue: computedFilterValue,\n      groupBy: computedGroupBy\n    }), dataToLoad).then(function (_ref10) {\n      var originalData = _ref10.data,\n          count = _ref10.count;\n\n      if (initialCount) {\n        count = initialCount;\n      }\n\n      var computedProps = computedPropsRef.current;\n      var queue = (0, _batchUpdate.default)();\n      var data = originalData;\n      var shouldAppend = computedLivePagination && !shouldReload ? computedSkip > lastSkipRef.current : append;\n\n      if (shouldAppend) {\n        originalData = prevOriginalData.concat(originalData);\n        data = originalData;\n      }\n\n      var computeDataResult = (0, _computeData.default)({\n        remoteData: false,\n        originalData: originalData\n      }, computedProps, queue);\n      data = computeDataResult.data || originalData;\n      var dataCountAfterFilter = computeDataResult.dataCountAfterFilter;\n      var prevComputedSkip = lastSkipRef.current;\n      lastSkipRef.current = computedSkip;\n      lastFilterValueRef.current = computedFilterValue;\n      lastLimitRef.current = computedLimit;\n      var shouldIndexData = computedProps.computedRowSelectionEnabled || computedProps.computedRowExpandEnabled || computedProps.treeColumn || computedProps.treeEnabled || computedProps.rowIndexColumn || computedProps.computedRowHeights || computedProps.computedGroupBy && props.stickyGroupRows;\n      var dataIndexMap = shouldIndexData && Array.isArray(data) ? {} : null;\n      var stickyGroupsIndexes = props.stickyGroupRows === true || props.stickyTreeNodes === true ? {} : null;\n      var dataMap = shouldIndexData && Array.isArray(data) ? data.reduce(function (acc, item, index) {\n        var id = computedProps.getItemId(item);\n\n        if (stickyGroupsIndexes) {\n          if (item.__group) {\n            stickyGroupsIndexes[index] = item.depth;\n          }\n\n          if (item.__nodeProps && !item.__nodeProps.leafNode) {\n            stickyGroupsIndexes[index] = item.__nodeProps.depth + 1;\n          }\n        }\n\n        acc[id] = item;\n        dataIndexMap[id] = index;\n        return acc;\n      }, {}) : null;\n      return queue.commit(function () {\n        var computedProps = computedPropsRef.current;\n        setOriginalData(originalData);\n\n        if (computedProps.scrollTopOnSort && computedProps.loadDataTrigger.find(function (s) {\n          return s == 'sortInfo';\n        })) {\n          raf(function () {\n            computedProps.setScrollTop(0);\n          });\n        }\n\n        if (computedSkip === 0 && prevComputedSkip > 0) {\n          raf(function () {\n            computedProps.setScrollTop(0);\n          });\n        }\n\n        if (computedProps.scrollTopOnFilter && computedProps.loadDataTrigger.find(function (s) {\n          return s == 'filterValue';\n        })) {\n          raf(function () {\n            computedProps.setScrollTop(0);\n          });\n        }\n\n        setLoadDataTrigger([]);\n\n        if (append) {\n          setAppend(false);\n        }\n\n        computedProps.setDataMap(dataMap);\n        computedProps.setDataIndexMap(dataIndexMap);\n\n        if (stickyGroupsIndexes && computedProps.setStickyGroupsIndexes) {\n          computedProps.setStickyGroupsIndexes(stickyGroupsIndexes);\n        }\n\n        setDataCountAfterFilter(dataCountAfterFilter);\n\n        if (dataCountAfterFilter != null && computedSkip >= dataCountAfterFilter && !computedRemoteData) {\n          setSkip(0);\n        }\n\n        silentSetData(data || []);\n        computedProps.setLoading(false);\n\n        if (shouldReload) {\n          setCount(count);\n        }\n      });\n    }, function (_err) {});\n  }, {\n    reloadDeps: [props.dataSource, computedRemoteData ? computedSkip : null, computedRemoteData && !computedLivePagination ? computedLimit : null, reloadTimestamp, props.pagination, props.remotePagination, props.pivot, props.livePagination, computedRemoteData || props.groupBy ? computedProps.computedGroupBy : null, computedRemoteData ? JSON.stringify(computedProps.computedSortInfo) : null, computedRemoteData ? JSON.stringify(computedProps.computedFilterValue) : null, computedRemoteFilter ? JSON.stringify(computedProps.computedFilterValue) : null, JSON.stringify(computedProps.computedCollapsedGroups || ''), JSON.stringify(computedProps.computedExpandedGroups || '')],\n    noReloadDeps: [originalData, computedProps.computedGroupBy, computedProps.groupColumn, computedProps.renderRowDetails, computedProps.treeColumn, computedProps.showGroupSummaryRow, !computedRemoteData ? computedSkip : null, !computedRemoteData ? computedLimit : null, !computedRemoteData ? JSON.stringify(computedProps.computedSortInfo) : null, !computedRemoteFilter ? JSON.stringify(computedProps.computedFilterValue) : null, computedProps.computedExpandedNodes ? JSON.stringify(computedProps.computedExpandedNodes) : null, computedProps.computedNodeCache ? JSON.stringify(computedProps.computedNodeCache) : null, computedProps.computedLoadingNodes ? JSON.stringify(computedProps.computedLoadingNodes) : null, computedDataSourceCache, computedProps.stickyGroupRows]\n  });\n  var paginationProps = usePagination({\n    append: append,\n    reload: reload,\n    setAppend: setAppend,\n    lastSkipRef: lastSkipRef,\n    lastLimitRef: lastLimitRef,\n    skip: computedSkip,\n    limit: computedLimit,\n    count: count,\n    setSkip: setSkip,\n    setLimit: setLimit,\n    pagination: computedPagination,\n    livePagination: computedLivePagination,\n    localPagination: computedLocalPagination,\n    remotePagination: computedRemotePagination,\n    dataCountAfterFilter: dataCountAfterFilter,\n    originalData: originalData,\n    data: data\n  }, computedPropsRef);\n  var getRowIndexById = (0, _react.useCallback)(function (rowId, data) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return -1;\n    }\n\n    var dataIndexMap = computedProps.dataIndexMap;\n\n    if (dataIndexMap) {\n      return dataIndexMap[rowId];\n    }\n\n    data = data || computedProps.data;\n    return (0, _getIndexBy.default)(data, computedProps.idProperty, rowId, computedProps.getItemId, computedProps.compoundIdProperty);\n  }, []);\n  var getItemIndexById = (0, _react.useCallback)(function (id, data) {\n    return getRowIndexById(id, data);\n  }, []);\n  var getData = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return [];\n    }\n\n    return computedProps.data;\n  }, []);\n  return _objectSpread({\n    getData: getData,\n    getRowIndexById: getRowIndexById,\n    getItemIndexById: getItemIndexById,\n    data: data,\n    dataMap: dataMap,\n    setDataMap: setDataMap,\n    dataIndexMap: dataIndexMap,\n    setDataIndexMap: setDataIndexMap,\n    loadDataTrigger: loadDataTrigger,\n    setLoadDataTrigger: setLoadDataTrigger,\n    originalData: originalData,\n    setOriginalData: setOriginalData,\n    ungroupedData: ungroupedData,\n    setUngroupedData: setUngroupedData,\n    computedSkip: computedSkip,\n    computedPagination: computedPagination,\n    computedLimit: computedLimit,\n    computedSummary: summary,\n    setSummary: setSummary,\n    dataPromiseRef: dataPromiseRef,\n    silentSetData: silentSetData,\n    computedLivePagination: computedLivePagination,\n    computedLocalPagination: computedLocalPagination,\n    computedRemotePagination: computedRemotePagination,\n    computedRemoteData: computedRemoteData,\n    computedRemoteFilter: computedRemoteFilter,\n    computedRemoteSort: computedRemoteSort,\n    computedDataSourceCache: computedDataSourceCache,\n    setDataSourceCache: setDataSourceCache,\n    setItemPropertyAt: setItemPropertyAt,\n    setItemPropertyForId: setItemPropertyForId,\n    setItemAt: setItemAt,\n    setItemsAt: setItemsAt,\n    setItemOnReorderingGroups: setItemOnReorderingGroups\n  }, paginationProps);\n};\n\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}