{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = require(\"react\");\n\nvar _useProperty5 = _interopRequireDefault(require(\"../useProperty\"));\n\nvar _isSelectionEnabled = _interopRequireDefault(require(\"./isSelectionEnabled\"));\n\nvar _isMultiSelect = _interopRequireDefault(require(\"./isMultiSelect\"));\n\nvar _isSelectionControlled = _interopRequireDefault(require(\"./isSelectionControlled\"));\n\nvar _handleSelection = require(\"../useRow/handleSelection\");\n\nvar _batchUpdate = _interopRequireDefault(require(\"../../utils/batchUpdate\"));\n\nvar _usePrevious = _interopRequireDefault(require(\"../usePrevious\"));\n\nvar EMPTY_OBJECT = {};\n\nvar getUnselectedFromProps = function getUnselectedFromProps(computedProps) {\n  if (!computedProps) {\n    return null;\n  }\n\n  if (computedProps.computedUnselected === undefined) {\n    return null;\n  }\n\n  return computedProps.computedUnselected;\n};\n\nvar getUnselectedCountFromProps = function getUnselectedCountFromProps(computedProps, unselected) {\n  if (!computedProps) {\n    return 0;\n  }\n\n  if (!computedProps.computedRowSelectionEnabled) {\n    return 0;\n  }\n\n  if (!computedProps.computedRowMultiSelectionEnabled) {\n    return 0;\n  }\n\n  unselected = unselected === undefined ? getUnselectedFromProps(computedProps) : unselected;\n  return unselected ? Object.keys(unselected).length : 0;\n};\n\nvar getSelectedCountFromProps = function getSelectedCountFromProps(computedProps, selected, unselected) {\n  if (!computedProps) {\n    return 0;\n  }\n\n  if (!computedProps.computedRowSelectionEnabled) {\n    return 0;\n  }\n\n  var multiSelect = computedProps.computedRowMultiSelectionEnabled;\n  selected = selected === undefined ? computedProps.computedSelected : selected;\n\n  if (multiSelect && selected === true) {\n    var unselectedCount = getUnselectedCountFromProps(computedProps, unselected);\n    return computedProps.paginationCount - unselectedCount;\n  }\n\n  return multiSelect ? selected ? Object.keys(selected).length : 0 : !selected || Object.keys(selected).length === 0 ? 0 : 1;\n};\n\nvar useUnselected = function useUnselected(props, _ref, computedPropsRef) {\n  var rowSelectionEnabled = _ref.rowSelectionEnabled,\n      rowMultiSelectionEnabled = _ref.rowMultiSelectionEnabled;\n\n  var _useProperty = (0, _useProperty5.default)(props, 'unselected'),\n      _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n      unselected = _useProperty2[0],\n      setUnselected = _useProperty2[1];\n\n  var _useState = (0, _react.useState)(unselected ? Object.keys(unselected).length : 0),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      unselectedCount = _useState2[0],\n      setUnselectedCount = _useState2[1];\n\n  if (!rowSelectionEnabled) {\n    return {\n      unselected: null,\n      setUnselected: setUnselected\n    };\n  }\n\n  if (!rowMultiSelectionEnabled) {\n    return {\n      unselected: null,\n      setUnselected: setUnselected\n    };\n  }\n\n  return {\n    unselected: unselected,\n    setUnselected: setUnselected\n  };\n};\n\nvar useSelected = function useSelected(props, computedProps, computedPropsRef) {\n  var _useProperty3 = (0, _useProperty5.default)(props, 'selected', undefined, {\n    onChange: function onChange(selected) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          silent = _ref2.silent,\n          unselected = _ref2.unselected,\n          data = _ref2.data;\n\n      var computedProps = computedPropsRef.current;\n\n      if (props.onSelectionChange && !silent) {\n        props.onSelectionChange({\n          selected: selected,\n          data: data,\n          unselected: unselected !== undefined ? unselected : computedProps != null ? computedProps.computedUnselected : null\n        });\n      }\n    }\n  }),\n      _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n      selected = _useProperty4[0],\n      setSelected = _useProperty4[1];\n\n  var rowSelectionEnabled = (0, _isSelectionEnabled.default)(props);\n  var rowMultiSelectionEnabled = (0, _isMultiSelect.default)(props);\n\n  if (!rowSelectionEnabled) {\n    return {\n      selected: null,\n      setSelected: setSelected,\n      rowSelectionEnabled: rowSelectionEnabled,\n      rowMultiSelectionEnabled: rowMultiSelectionEnabled\n    };\n  }\n\n  if ((0, _isSelectionControlled.default)(props)) {\n    return {\n      selected: selected,\n      setSelected: setSelected,\n      rowSelectionEnabled: rowSelectionEnabled,\n      rowMultiSelectionEnabled: rowMultiSelectionEnabled\n    };\n  }\n\n  if (rowMultiSelectionEnabled && ((0, _typeof2.default)(selected) != 'object' || !selected) && selected !== true) {\n    selected = EMPTY_OBJECT;\n  }\n\n  return {\n    selected: selected,\n    setSelected: setSelected,\n    rowSelectionEnabled: rowSelectionEnabled,\n    rowMultiSelectionEnabled: rowMultiSelectionEnabled\n  };\n};\n\nvar _default = function _default(props, computedProps, computedPropsRef) {\n  var _useSelected = useSelected(props, computedProps, computedPropsRef),\n      computedSelected = _useSelected.selected,\n      setSelected = _useSelected.setSelected,\n      rowMultiSelectionEnabled = _useSelected.rowMultiSelectionEnabled,\n      rowSelectionEnabled = _useSelected.rowSelectionEnabled;\n\n  var previousRowMultiSelectionEnabled = (0, _usePrevious.default)(rowMultiSelectionEnabled, rowMultiSelectionEnabled);\n\n  if (previousRowMultiSelectionEnabled === true && rowMultiSelectionEnabled === false) {\n    setSelected({});\n  }\n\n  var computedRowSelectionEnabled = rowSelectionEnabled;\n  var computedRowMultiSelectionEnabled = rowMultiSelectionEnabled;\n\n  var _useUnselected = useUnselected(props, {\n    rowSelectionEnabled: rowSelectionEnabled,\n    rowMultiSelectionEnabled: rowMultiSelectionEnabled\n  }, computedPropsRef),\n      computedUnselected = _useUnselected.unselected,\n      setUnselected = _useUnselected.setUnselected;\n\n  var computedSelectedCount = getSelectedCountFromProps({\n    computedPagination: computedProps.computedPagination,\n    computedRemoteData: computedProps.computedRemoteData,\n    paginationCount: computedProps.paginationCount,\n    computedRowMultiSelectionEnabled: computedRowMultiSelectionEnabled,\n    computedRowSelectionEnabled: computedRowSelectionEnabled\n  }, computedSelected, computedUnselected);\n  var computedUnselectedCount = getUnselectedCountFromProps({\n    computedRowMultiSelectionEnabled: computedRowMultiSelectionEnabled,\n    computedRowSelectionEnabled: computedRowSelectionEnabled\n  }, computedUnselected);\n  var isSelectionEmpty = (0, _react.useCallback)(function () {\n    var selected = computedSelected;\n    var selectionEmpty = false;\n\n    if (selected == null) {\n      selectionEmpty = true;\n    }\n\n    if ((0, _typeof2.default)(selected) === 'object' && selected !== null) {\n      selectionEmpty = Object.keys(selected).length === 0;\n    }\n\n    return selectionEmpty;\n  }, [computedSelected]);\n  var getSelectedMap = (0, _react.useCallback)(function () {\n    if (computedRowMultiSelectionEnabled) {\n      return computedSelected;\n    }\n\n    return (0, _defineProperty2.default)({}, computedSelected, true);\n  }, [computedRowMultiSelectionEnabled, computedSelected]);\n  var getUnselected = (0, _react.useCallback)(function () {\n    return getUnselectedFromProps(computedPropsRef.current);\n  }, []);\n  var getUnselectedMap = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return {};\n    }\n\n    var unselected = getUnselected();\n\n    if (computedProps.computedRowMultiSelectionEnabled) {\n      return unselected || {};\n    }\n\n    return {};\n  }, [getUnselected]);\n\n  var getUnselectedCount = function getUnselectedCount(unselected) {\n    return getUnselectedCountFromProps(computedPropsRef.current, unselected);\n  };\n\n  var getSelectedCount = function getSelectedCount(selected, unselected) {\n    return getSelectedCountFromProps(computedPropsRef.current, selected, unselected);\n  };\n\n  var isRowSelected = (0, _react.useCallback)(function (data) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return false;\n    }\n\n    if (typeof data == 'number') {\n      data = computedProps.getItemAt(data);\n    }\n\n    var selectedMap = getSelectedMap();\n    var id = computedProps.getItemId(data);\n\n    if (selectedMap === true) {\n      var unselectedMap = getUnselectedMap();\n      return !unselectedMap[id];\n    }\n\n    return !!selectedMap[id];\n  }, [getSelectedMap, getUnselectedMap]);\n  var cellSelectionTmp = props.cellSelection || props.defaultCellSelection;\n  var activeCellDefined = props.activeCell !== undefined || props.defaultActiveCell !== undefined;\n  var computedHasRowNavigation = (computedRowSelectionEnabled || !cellSelectionTmp) && computedProps.computedActiveIndex > -1 ? true : props.enableKeyboardNavigation !== false && !cellSelectionTmp && !activeCellDefined;\n\n  if (props.enableKeyboardNavigation === false) {\n    computedHasRowNavigation = false;\n  }\n\n  var _computedProps$useCel = computedProps.useCellSelection(props, {\n    rowSelectionEnabled: rowSelectionEnabled,\n    listenOnCellEnter: computedProps.listenOnCellEnter,\n    hasRowNavigation: computedHasRowNavigation\n  }, computedPropsRef),\n      computedCellSelection = _computedProps$useCel.computedCellSelection,\n      setCellSelection = _computedProps$useCel.setCellSelection,\n      computedCellSelectionEnabled = _computedProps$useCel.cellSelectionEnabled,\n      computedCellMultiSelectionEnabled = _computedProps$useCel.cellMultiSelectionEnabled,\n      computedCellNavigationEnabled = _computedProps$useCel.cellNavigationEnabled,\n      computedActiveCell = _computedProps$useCel.computedActiveCell,\n      incrementActiveCell = _computedProps$useCel.incrementActiveCell,\n      getCellSelectionIdKey = _computedProps$useCel.getCellSelectionIdKey,\n      getCellSelectionBetween = _computedProps$useCel.getCellSelectionBetween,\n      toggleActiveCellSelection = _computedProps$useCel.toggleActiveCellSelection,\n      onCellEnter = _computedProps$useCel.onCellEnter,\n      setActiveCell = _computedProps$useCel.setActiveCell,\n      getCellSelectionKey = _computedProps$useCel.getCellSelectionKey,\n      cellDragStartRowIndex = _computedProps$useCel.cellDragStartRowIndex,\n      setCellDragStartRowIndex = _computedProps$useCel.setCellDragStartRowIndex,\n      onCellSelectionDraggerMouseDown = _computedProps$useCel.onCellSelectionDraggerMouseDown;\n\n  var selectAll = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (!computedProps.computedRowSelectionEnabled) {\n      return;\n    }\n\n    var data = computedProps.data;\n    var dataMap = computedProps.dataMap;\n\n    if (computedProps.computedGroupBy) {\n      dataMap = {};\n      data = data.filter(function (d) {\n        var id = computedProps.getItemId(d);\n\n        if (!d.__group) {\n          dataMap[id] = id;\n          return true;\n        }\n      });\n    }\n\n    if (computedProps.computedTreeEnabled && computedProps.stickyTreeNodes) {\n      var vl = computedProps.getVirtualList();\n      vl.updateStickyRows(undefined, undefined, {\n        force: true\n      });\n    }\n\n    (0, _handleSelection.notifySelection)(computedProps, computedProps.computedRemoteData || computedProps.computedPagination ? data.length === 0 ? false : true : dataMap, data, null);\n  }, []);\n  var deselectAll = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (computedProps.computedTreeEnabled && computedProps.stickyTreeNodes) {\n      var vl = computedProps.getVirtualList();\n      vl.updateStickyRows(undefined, undefined, {\n        force: true\n      });\n    }\n\n    (0, _handleSelection.notifySelection)(computedProps, {}, [], null);\n  }, []);\n  var setRowSelected = (0, _react.useCallback)(function (index, selected, event) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var queue = (0, _batchUpdate.default)();\n\n    if (computedProps.checkboxSelectEnableShiftKey && computedProps.computedRowMultiSelectionEnabled) {\n      if (event && event.target) {\n        var shiftKey = event.shiftKey,\n            metaKey = event.metaKey,\n            ctrlKey = event.ctrlKey;\n\n        if (shiftKey) {\n          var rowProps = {\n            data: computedProps.getItemAt(index),\n            rowIndex: index\n          };\n          (0, _handleSelection.handleSelection)(rowProps, computedProps, {\n            shiftKey: shiftKey,\n            metaKey: metaKey,\n            ctrlKey: ctrlKey\n          }, queue);\n          return;\n        }\n\n        computedProps.shiftKeyIndexRef.current = index;\n        computedProps.selectionIndexRef.current = index;\n      }\n    }\n\n    computedProps.setSelectedAt(index, selected, queue);\n    queue.commit();\n  }, [computedProps.initialProps.checkboxSelectEnableShiftKey]);\n  var setSelectedAt = (0, _react.useCallback)(function (index, selected, queue) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var data = computedProps.data[index];\n\n    if (!data) {\n      return;\n    }\n\n    var id = computedProps.getItemId(data);\n    computedProps.setSelectedById(id, selected, queue);\n  }, []);\n\n  var treeGridChildrenSelection = function treeGridChildrenSelection(dataArray, id, selected, clone, treeGridChildrenDeselectionEnabled, parentNode) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var idProperty = computedProps.idProperty;\n    var nodesName = computedProps.nodesProperty;\n    var pathSeparator = computedProps.nodePathSeparator;\n    var expandedNodes = computedProps.computedExpandedNodes || EMPTY_OBJECT;\n    var generateIdFromPath = computedProps.generateIdFromPath;\n\n    for (var i = 0; i < dataArray.length; i++) {\n      var item = dataArray[i];\n\n      if (item) {\n        var _id$split;\n\n        var itemId = item[idProperty];\n        var itemNodes = item[nodesName];\n        var parentNodeId = parentNode ? \"\".concat(parentNode[idProperty]) : undefined;\n        var path = parentNode ? \"\".concat(parentNodeId).concat(pathSeparator).concat(itemId) : \"\".concat(itemId);\n\n        if (generateIdFromPath) {\n          item[idProperty] = path;\n        }\n\n        var idLength = (_id$split = id.split(pathSeparator)) === null || _id$split === void 0 ? void 0 : _id$split.length;\n        var idFromPath = path.split(pathSeparator).slice(0, idLength).join(pathSeparator);\n\n        if (idFromPath === id) {\n          var treeData = computedProps.dataMap ? computedProps.dataMap[path] : null;\n\n          if (!treeData) {\n            continue;\n          }\n\n          if (selected) {\n            clone[path] = treeData;\n          } else {\n            if (treeGridChildrenDeselectionEnabled) {\n              delete clone[path];\n            } else {\n              delete clone[id];\n            }\n          }\n        }\n\n        if (expandedNodes && expandedNodes[itemId]) {\n          if (Array.isArray(itemNodes)) {\n            treeGridChildrenSelection(itemNodes, id, selected, clone, treeGridChildrenDeselectionEnabled, item);\n          }\n        }\n      }\n    }\n\n    return clone;\n  };\n\n  var setSelectedById = (0, _react.useCallback)(function (id, selected, queue) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var data = computedProps.dataMap ? computedProps.dataMap[id] : null;\n\n    if (!data) {\n      return;\n    }\n\n    var isSelected = computedProps.isRowSelected(data);\n    var multiSelect = computedProps.computedRowMultiSelectionEnabled;\n\n    if (isSelected === selected) {\n      return;\n    }\n\n    if (multiSelect) {\n      var selectedMap = computedProps.computedSelected;\n      var unselectedMap = selectedMap === true ? computedProps.computedUnselected || {} : null;\n      var clone = selectedMap;\n\n      if (selectedMap === true) {\n        if (unselectedMap) {\n          unselectedMap = Object.assign({}, unselectedMap);\n        }\n\n        if (!selected && unselectedMap) {\n          unselectedMap[id] = true;\n          var totalCount = computedProps.paginationCount;\n\n          if (Object.keys(unselectedMap).length === totalCount) {\n            computedProps.deselectAll();\n            return;\n          }\n        } else {\n          if (unselectedMap) {\n            delete unselectedMap[id];\n          }\n\n          if (getUnselectedCountFromProps(computedProps, unselectedMap) === 0) {\n            unselectedMap = null;\n          }\n        }\n      } else {\n        clone = Object.assign({}, selectedMap);\n\n        if (computedProps.computedTreeEnabled && computedProps.treeGridChildrenSelectionEnabled) {\n          var originalData = JSON.stringify(computedProps.originalData || []);\n          var cloneOriginalData = (0, _toConsumableArray2.default)(JSON.parse(originalData));\n          var treeGridChildrenDeselectionEnabled = computedProps.treeGridChildrenDeselectionEnabled;\n          treeGridChildrenSelection(cloneOriginalData, id, selected, clone, treeGridChildrenDeselectionEnabled);\n        } else {\n          if (selected) {\n            clone[id] = data;\n          } else {\n            delete clone[id];\n          }\n        }\n      }\n\n      (0, _handleSelection.notifySelection)(computedProps, clone, data, unselectedMap, queue);\n    } else {\n      (0, _handleSelection.notifySelection)(computedProps, selected ? id : null, data, null, queue);\n    }\n  }, []);\n  return {\n    selectAll: selectAll,\n    deselectAll: deselectAll,\n    setRowSelected: setRowSelected,\n    setSelectedAt: setSelectedAt,\n    setSelectedById: setSelectedById,\n    setCellSelection: setCellSelection,\n    computedCellSelection: computedCellSelection,\n    computedCellSelectionEnabled: computedCellSelectionEnabled,\n    computedCellMultiSelectionEnabled: computedCellMultiSelectionEnabled,\n    computedCellNavigationEnabled: computedCellNavigationEnabled,\n    computedActiveCell: computedActiveCell,\n    getCellSelectionBetween: getCellSelectionBetween,\n    incrementActiveCell: incrementActiveCell,\n    cellDragStartRowIndex: cellDragStartRowIndex,\n    setCellDragStartRowIndex: setCellDragStartRowIndex,\n    onCellEnter: onCellEnter,\n    onCellSelectionDraggerMouseDown: onCellSelectionDraggerMouseDown,\n    toggleActiveCellSelection: toggleActiveCellSelection,\n    computedHasRowNavigation: computedHasRowNavigation,\n    computedRowSelectionEnabled: computedRowSelectionEnabled,\n    computedRowMultiSelectionEnabled: computedRowMultiSelectionEnabled,\n    computedSelected: computedSelected,\n    setSelected: setSelected,\n    computedUnselected: computedUnselected,\n    setUnselected: setUnselected,\n    isSelectionEmpty: isSelectionEmpty,\n    getSelectedMap: getSelectedMap,\n    getUnselectedMap: getUnselectedMap,\n    isRowSelected: isRowSelected,\n    getUnselectedCount: getUnselectedCount,\n    getSelectedCount: getSelectedCount,\n    computedUnselectedCount: computedUnselectedCount,\n    computedSelectedCount: computedSelectedCount,\n    getCellSelectionIdKey: getCellSelectionIdKey,\n    setActiveCell: setActiveCell,\n    getCellSelectionKey: getCellSelectionKey\n  };\n};\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/ILP-main/node_modules/@inovua/reactdatagrid-community/hooks/useSelection/index.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_toConsumableArray2","_defineProperty2","_typeof2","_slicedToArray2","_react","_useProperty5","_isSelectionEnabled","_isMultiSelect","_isSelectionControlled","_handleSelection","_batchUpdate","_usePrevious","EMPTY_OBJECT","getUnselectedFromProps","computedProps","computedUnselected","undefined","getUnselectedCountFromProps","unselected","computedRowSelectionEnabled","computedRowMultiSelectionEnabled","keys","length","getSelectedCountFromProps","selected","multiSelect","computedSelected","unselectedCount","paginationCount","useUnselected","props","_ref","computedPropsRef","rowSelectionEnabled","rowMultiSelectionEnabled","_useProperty","_useProperty2","setUnselected","_useState","useState","_useState2","setUnselectedCount","useSelected","_useProperty3","onChange","_ref2","arguments","silent","data","current","onSelectionChange","_useProperty4","setSelected","_default","_useSelected","previousRowMultiSelectionEnabled","_useUnselected","computedSelectedCount","computedPagination","computedRemoteData","computedUnselectedCount","isSelectionEmpty","useCallback","selectionEmpty","getSelectedMap","getUnselected","getUnselectedMap","getUnselectedCount","getSelectedCount","isRowSelected","getItemAt","selectedMap","id","getItemId","unselectedMap","cellSelectionTmp","cellSelection","defaultCellSelection","activeCellDefined","activeCell","defaultActiveCell","computedHasRowNavigation","computedActiveIndex","enableKeyboardNavigation","_computedProps$useCel","useCellSelection","listenOnCellEnter","hasRowNavigation","computedCellSelection","setCellSelection","computedCellSelectionEnabled","cellSelectionEnabled","computedCellMultiSelectionEnabled","cellMultiSelectionEnabled","computedCellNavigationEnabled","cellNavigationEnabled","computedActiveCell","incrementActiveCell","getCellSelectionIdKey","getCellSelectionBetween","toggleActiveCellSelection","onCellEnter","setActiveCell","getCellSelectionKey","cellDragStartRowIndex","setCellDragStartRowIndex","onCellSelectionDraggerMouseDown","selectAll","dataMap","computedGroupBy","filter","d","__group","computedTreeEnabled","stickyTreeNodes","vl","getVirtualList","updateStickyRows","force","notifySelection","deselectAll","setRowSelected","index","event","queue","checkboxSelectEnableShiftKey","target","shiftKey","metaKey","ctrlKey","rowProps","rowIndex","handleSelection","shiftKeyIndexRef","selectionIndexRef","setSelectedAt","commit","initialProps","setSelectedById","treeGridChildrenSelection","dataArray","clone","treeGridChildrenDeselectionEnabled","parentNode","idProperty","nodesName","nodesProperty","pathSeparator","nodePathSeparator","expandedNodes","computedExpandedNodes","generateIdFromPath","i","item","_id$split","itemId","itemNodes","parentNodeId","concat","path","idLength","split","idFromPath","slice","join","treeData","Array","isArray","isSelected","assign","totalCount","treeGridChildrenSelectionEnabled","originalData","JSON","stringify","cloneOriginalData","parse"],"mappings":"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","sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = require(\"react\");\n\nvar _useProperty5 = _interopRequireDefault(require(\"../useProperty\"));\n\nvar _isSelectionEnabled = _interopRequireDefault(require(\"./isSelectionEnabled\"));\n\nvar _isMultiSelect = _interopRequireDefault(require(\"./isMultiSelect\"));\n\nvar _isSelectionControlled = _interopRequireDefault(require(\"./isSelectionControlled\"));\n\nvar _handleSelection = require(\"../useRow/handleSelection\");\n\nvar _batchUpdate = _interopRequireDefault(require(\"../../utils/batchUpdate\"));\n\nvar _usePrevious = _interopRequireDefault(require(\"../usePrevious\"));\n\nvar EMPTY_OBJECT = {};\n\nvar getUnselectedFromProps = function getUnselectedFromProps(computedProps) {\n  if (!computedProps) {\n    return null;\n  }\n\n  if (computedProps.computedUnselected === undefined) {\n    return null;\n  }\n\n  return computedProps.computedUnselected;\n};\n\nvar getUnselectedCountFromProps = function getUnselectedCountFromProps(computedProps, unselected) {\n  if (!computedProps) {\n    return 0;\n  }\n\n  if (!computedProps.computedRowSelectionEnabled) {\n    return 0;\n  }\n\n  if (!computedProps.computedRowMultiSelectionEnabled) {\n    return 0;\n  }\n\n  unselected = unselected === undefined ? getUnselectedFromProps(computedProps) : unselected;\n  return unselected ? Object.keys(unselected).length : 0;\n};\n\nvar getSelectedCountFromProps = function getSelectedCountFromProps(computedProps, selected, unselected) {\n  if (!computedProps) {\n    return 0;\n  }\n\n  if (!computedProps.computedRowSelectionEnabled) {\n    return 0;\n  }\n\n  var multiSelect = computedProps.computedRowMultiSelectionEnabled;\n  selected = selected === undefined ? computedProps.computedSelected : selected;\n\n  if (multiSelect && selected === true) {\n    var unselectedCount = getUnselectedCountFromProps(computedProps, unselected);\n    return computedProps.paginationCount - unselectedCount;\n  }\n\n  return multiSelect ? selected ? Object.keys(selected).length : 0 : !selected || Object.keys(selected).length === 0 ? 0 : 1;\n};\n\nvar useUnselected = function useUnselected(props, _ref, computedPropsRef) {\n  var rowSelectionEnabled = _ref.rowSelectionEnabled,\n      rowMultiSelectionEnabled = _ref.rowMultiSelectionEnabled;\n\n  var _useProperty = (0, _useProperty5.default)(props, 'unselected'),\n      _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n      unselected = _useProperty2[0],\n      setUnselected = _useProperty2[1];\n\n  var _useState = (0, _react.useState)(unselected ? Object.keys(unselected).length : 0),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      unselectedCount = _useState2[0],\n      setUnselectedCount = _useState2[1];\n\n  if (!rowSelectionEnabled) {\n    return {\n      unselected: null,\n      setUnselected: setUnselected\n    };\n  }\n\n  if (!rowMultiSelectionEnabled) {\n    return {\n      unselected: null,\n      setUnselected: setUnselected\n    };\n  }\n\n  return {\n    unselected: unselected,\n    setUnselected: setUnselected\n  };\n};\n\nvar useSelected = function useSelected(props, computedProps, computedPropsRef) {\n  var _useProperty3 = (0, _useProperty5.default)(props, 'selected', undefined, {\n    onChange: function onChange(selected) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          silent = _ref2.silent,\n          unselected = _ref2.unselected,\n          data = _ref2.data;\n\n      var computedProps = computedPropsRef.current;\n\n      if (props.onSelectionChange && !silent) {\n        props.onSelectionChange({\n          selected: selected,\n          data: data,\n          unselected: unselected !== undefined ? unselected : computedProps != null ? computedProps.computedUnselected : null\n        });\n      }\n    }\n  }),\n      _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n      selected = _useProperty4[0],\n      setSelected = _useProperty4[1];\n\n  var rowSelectionEnabled = (0, _isSelectionEnabled.default)(props);\n  var rowMultiSelectionEnabled = (0, _isMultiSelect.default)(props);\n\n  if (!rowSelectionEnabled) {\n    return {\n      selected: null,\n      setSelected: setSelected,\n      rowSelectionEnabled: rowSelectionEnabled,\n      rowMultiSelectionEnabled: rowMultiSelectionEnabled\n    };\n  }\n\n  if ((0, _isSelectionControlled.default)(props)) {\n    return {\n      selected: selected,\n      setSelected: setSelected,\n      rowSelectionEnabled: rowSelectionEnabled,\n      rowMultiSelectionEnabled: rowMultiSelectionEnabled\n    };\n  }\n\n  if (rowMultiSelectionEnabled && ((0, _typeof2.default)(selected) != 'object' || !selected) && selected !== true) {\n    selected = EMPTY_OBJECT;\n  }\n\n  return {\n    selected: selected,\n    setSelected: setSelected,\n    rowSelectionEnabled: rowSelectionEnabled,\n    rowMultiSelectionEnabled: rowMultiSelectionEnabled\n  };\n};\n\nvar _default = function _default(props, computedProps, computedPropsRef) {\n  var _useSelected = useSelected(props, computedProps, computedPropsRef),\n      computedSelected = _useSelected.selected,\n      setSelected = _useSelected.setSelected,\n      rowMultiSelectionEnabled = _useSelected.rowMultiSelectionEnabled,\n      rowSelectionEnabled = _useSelected.rowSelectionEnabled;\n\n  var previousRowMultiSelectionEnabled = (0, _usePrevious.default)(rowMultiSelectionEnabled, rowMultiSelectionEnabled);\n\n  if (previousRowMultiSelectionEnabled === true && rowMultiSelectionEnabled === false) {\n    setSelected({});\n  }\n\n  var computedRowSelectionEnabled = rowSelectionEnabled;\n  var computedRowMultiSelectionEnabled = rowMultiSelectionEnabled;\n\n  var _useUnselected = useUnselected(props, {\n    rowSelectionEnabled: rowSelectionEnabled,\n    rowMultiSelectionEnabled: rowMultiSelectionEnabled\n  }, computedPropsRef),\n      computedUnselected = _useUnselected.unselected,\n      setUnselected = _useUnselected.setUnselected;\n\n  var computedSelectedCount = getSelectedCountFromProps({\n    computedPagination: computedProps.computedPagination,\n    computedRemoteData: computedProps.computedRemoteData,\n    paginationCount: computedProps.paginationCount,\n    computedRowMultiSelectionEnabled: computedRowMultiSelectionEnabled,\n    computedRowSelectionEnabled: computedRowSelectionEnabled\n  }, computedSelected, computedUnselected);\n  var computedUnselectedCount = getUnselectedCountFromProps({\n    computedRowMultiSelectionEnabled: computedRowMultiSelectionEnabled,\n    computedRowSelectionEnabled: computedRowSelectionEnabled\n  }, computedUnselected);\n  var isSelectionEmpty = (0, _react.useCallback)(function () {\n    var selected = computedSelected;\n    var selectionEmpty = false;\n\n    if (selected == null) {\n      selectionEmpty = true;\n    }\n\n    if ((0, _typeof2.default)(selected) === 'object' && selected !== null) {\n      selectionEmpty = Object.keys(selected).length === 0;\n    }\n\n    return selectionEmpty;\n  }, [computedSelected]);\n  var getSelectedMap = (0, _react.useCallback)(function () {\n    if (computedRowMultiSelectionEnabled) {\n      return computedSelected;\n    }\n\n    return (0, _defineProperty2.default)({}, computedSelected, true);\n  }, [computedRowMultiSelectionEnabled, computedSelected]);\n  var getUnselected = (0, _react.useCallback)(function () {\n    return getUnselectedFromProps(computedPropsRef.current);\n  }, []);\n  var getUnselectedMap = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return {};\n    }\n\n    var unselected = getUnselected();\n\n    if (computedProps.computedRowMultiSelectionEnabled) {\n      return unselected || {};\n    }\n\n    return {};\n  }, [getUnselected]);\n\n  var getUnselectedCount = function getUnselectedCount(unselected) {\n    return getUnselectedCountFromProps(computedPropsRef.current, unselected);\n  };\n\n  var getSelectedCount = function getSelectedCount(selected, unselected) {\n    return getSelectedCountFromProps(computedPropsRef.current, selected, unselected);\n  };\n\n  var isRowSelected = (0, _react.useCallback)(function (data) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return false;\n    }\n\n    if (typeof data == 'number') {\n      data = computedProps.getItemAt(data);\n    }\n\n    var selectedMap = getSelectedMap();\n    var id = computedProps.getItemId(data);\n\n    if (selectedMap === true) {\n      var unselectedMap = getUnselectedMap();\n      return !unselectedMap[id];\n    }\n\n    return !!selectedMap[id];\n  }, [getSelectedMap, getUnselectedMap]);\n  var cellSelectionTmp = props.cellSelection || props.defaultCellSelection;\n  var activeCellDefined = props.activeCell !== undefined || props.defaultActiveCell !== undefined;\n  var computedHasRowNavigation = (computedRowSelectionEnabled || !cellSelectionTmp) && computedProps.computedActiveIndex > -1 ? true : props.enableKeyboardNavigation !== false && !cellSelectionTmp && !activeCellDefined;\n\n  if (props.enableKeyboardNavigation === false) {\n    computedHasRowNavigation = false;\n  }\n\n  var _computedProps$useCel = computedProps.useCellSelection(props, {\n    rowSelectionEnabled: rowSelectionEnabled,\n    listenOnCellEnter: computedProps.listenOnCellEnter,\n    hasRowNavigation: computedHasRowNavigation\n  }, computedPropsRef),\n      computedCellSelection = _computedProps$useCel.computedCellSelection,\n      setCellSelection = _computedProps$useCel.setCellSelection,\n      computedCellSelectionEnabled = _computedProps$useCel.cellSelectionEnabled,\n      computedCellMultiSelectionEnabled = _computedProps$useCel.cellMultiSelectionEnabled,\n      computedCellNavigationEnabled = _computedProps$useCel.cellNavigationEnabled,\n      computedActiveCell = _computedProps$useCel.computedActiveCell,\n      incrementActiveCell = _computedProps$useCel.incrementActiveCell,\n      getCellSelectionIdKey = _computedProps$useCel.getCellSelectionIdKey,\n      getCellSelectionBetween = _computedProps$useCel.getCellSelectionBetween,\n      toggleActiveCellSelection = _computedProps$useCel.toggleActiveCellSelection,\n      onCellEnter = _computedProps$useCel.onCellEnter,\n      setActiveCell = _computedProps$useCel.setActiveCell,\n      getCellSelectionKey = _computedProps$useCel.getCellSelectionKey,\n      cellDragStartRowIndex = _computedProps$useCel.cellDragStartRowIndex,\n      setCellDragStartRowIndex = _computedProps$useCel.setCellDragStartRowIndex,\n      onCellSelectionDraggerMouseDown = _computedProps$useCel.onCellSelectionDraggerMouseDown;\n\n  var selectAll = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (!computedProps.computedRowSelectionEnabled) {\n      return;\n    }\n\n    var data = computedProps.data;\n    var dataMap = computedProps.dataMap;\n\n    if (computedProps.computedGroupBy) {\n      dataMap = {};\n      data = data.filter(function (d) {\n        var id = computedProps.getItemId(d);\n\n        if (!d.__group) {\n          dataMap[id] = id;\n          return true;\n        }\n      });\n    }\n\n    if (computedProps.computedTreeEnabled && computedProps.stickyTreeNodes) {\n      var vl = computedProps.getVirtualList();\n      vl.updateStickyRows(undefined, undefined, {\n        force: true\n      });\n    }\n\n    (0, _handleSelection.notifySelection)(computedProps, computedProps.computedRemoteData || computedProps.computedPagination ? data.length === 0 ? false : true : dataMap, data, null);\n  }, []);\n  var deselectAll = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (computedProps.computedTreeEnabled && computedProps.stickyTreeNodes) {\n      var vl = computedProps.getVirtualList();\n      vl.updateStickyRows(undefined, undefined, {\n        force: true\n      });\n    }\n\n    (0, _handleSelection.notifySelection)(computedProps, {}, [], null);\n  }, []);\n  var setRowSelected = (0, _react.useCallback)(function (index, selected, event) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var queue = (0, _batchUpdate.default)();\n\n    if (computedProps.checkboxSelectEnableShiftKey && computedProps.computedRowMultiSelectionEnabled) {\n      if (event && event.target) {\n        var shiftKey = event.shiftKey,\n            metaKey = event.metaKey,\n            ctrlKey = event.ctrlKey;\n\n        if (shiftKey) {\n          var rowProps = {\n            data: computedProps.getItemAt(index),\n            rowIndex: index\n          };\n          (0, _handleSelection.handleSelection)(rowProps, computedProps, {\n            shiftKey: shiftKey,\n            metaKey: metaKey,\n            ctrlKey: ctrlKey\n          }, queue);\n          return;\n        }\n\n        computedProps.shiftKeyIndexRef.current = index;\n        computedProps.selectionIndexRef.current = index;\n      }\n    }\n\n    computedProps.setSelectedAt(index, selected, queue);\n    queue.commit();\n  }, [computedProps.initialProps.checkboxSelectEnableShiftKey]);\n  var setSelectedAt = (0, _react.useCallback)(function (index, selected, queue) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var data = computedProps.data[index];\n\n    if (!data) {\n      return;\n    }\n\n    var id = computedProps.getItemId(data);\n    computedProps.setSelectedById(id, selected, queue);\n  }, []);\n\n  var treeGridChildrenSelection = function treeGridChildrenSelection(dataArray, id, selected, clone, treeGridChildrenDeselectionEnabled, parentNode) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var idProperty = computedProps.idProperty;\n    var nodesName = computedProps.nodesProperty;\n    var pathSeparator = computedProps.nodePathSeparator;\n    var expandedNodes = computedProps.computedExpandedNodes || EMPTY_OBJECT;\n    var generateIdFromPath = computedProps.generateIdFromPath;\n\n    for (var i = 0; i < dataArray.length; i++) {\n      var item = dataArray[i];\n\n      if (item) {\n        var _id$split;\n\n        var itemId = item[idProperty];\n        var itemNodes = item[nodesName];\n        var parentNodeId = parentNode ? \"\".concat(parentNode[idProperty]) : undefined;\n        var path = parentNode ? \"\".concat(parentNodeId).concat(pathSeparator).concat(itemId) : \"\".concat(itemId);\n\n        if (generateIdFromPath) {\n          item[idProperty] = path;\n        }\n\n        var idLength = (_id$split = id.split(pathSeparator)) === null || _id$split === void 0 ? void 0 : _id$split.length;\n        var idFromPath = path.split(pathSeparator).slice(0, idLength).join(pathSeparator);\n\n        if (idFromPath === id) {\n          var treeData = computedProps.dataMap ? computedProps.dataMap[path] : null;\n\n          if (!treeData) {\n            continue;\n          }\n\n          if (selected) {\n            clone[path] = treeData;\n          } else {\n            if (treeGridChildrenDeselectionEnabled) {\n              delete clone[path];\n            } else {\n              delete clone[id];\n            }\n          }\n        }\n\n        if (expandedNodes && expandedNodes[itemId]) {\n          if (Array.isArray(itemNodes)) {\n            treeGridChildrenSelection(itemNodes, id, selected, clone, treeGridChildrenDeselectionEnabled, item);\n          }\n        }\n      }\n    }\n\n    return clone;\n  };\n\n  var setSelectedById = (0, _react.useCallback)(function (id, selected, queue) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var data = computedProps.dataMap ? computedProps.dataMap[id] : null;\n\n    if (!data) {\n      return;\n    }\n\n    var isSelected = computedProps.isRowSelected(data);\n    var multiSelect = computedProps.computedRowMultiSelectionEnabled;\n\n    if (isSelected === selected) {\n      return;\n    }\n\n    if (multiSelect) {\n      var selectedMap = computedProps.computedSelected;\n      var unselectedMap = selectedMap === true ? computedProps.computedUnselected || {} : null;\n      var clone = selectedMap;\n\n      if (selectedMap === true) {\n        if (unselectedMap) {\n          unselectedMap = Object.assign({}, unselectedMap);\n        }\n\n        if (!selected && unselectedMap) {\n          unselectedMap[id] = true;\n          var totalCount = computedProps.paginationCount;\n\n          if (Object.keys(unselectedMap).length === totalCount) {\n            computedProps.deselectAll();\n            return;\n          }\n        } else {\n          if (unselectedMap) {\n            delete unselectedMap[id];\n          }\n\n          if (getUnselectedCountFromProps(computedProps, unselectedMap) === 0) {\n            unselectedMap = null;\n          }\n        }\n      } else {\n        clone = Object.assign({}, selectedMap);\n\n        if (computedProps.computedTreeEnabled && computedProps.treeGridChildrenSelectionEnabled) {\n          var originalData = JSON.stringify(computedProps.originalData || []);\n          var cloneOriginalData = (0, _toConsumableArray2.default)(JSON.parse(originalData));\n          var treeGridChildrenDeselectionEnabled = computedProps.treeGridChildrenDeselectionEnabled;\n          treeGridChildrenSelection(cloneOriginalData, id, selected, clone, treeGridChildrenDeselectionEnabled);\n        } else {\n          if (selected) {\n            clone[id] = data;\n          } else {\n            delete clone[id];\n          }\n        }\n      }\n\n      (0, _handleSelection.notifySelection)(computedProps, clone, data, unselectedMap, queue);\n    } else {\n      (0, _handleSelection.notifySelection)(computedProps, selected ? id : null, data, null, queue);\n    }\n  }, []);\n  return {\n    selectAll: selectAll,\n    deselectAll: deselectAll,\n    setRowSelected: setRowSelected,\n    setSelectedAt: setSelectedAt,\n    setSelectedById: setSelectedById,\n    setCellSelection: setCellSelection,\n    computedCellSelection: computedCellSelection,\n    computedCellSelectionEnabled: computedCellSelectionEnabled,\n    computedCellMultiSelectionEnabled: computedCellMultiSelectionEnabled,\n    computedCellNavigationEnabled: computedCellNavigationEnabled,\n    computedActiveCell: computedActiveCell,\n    getCellSelectionBetween: getCellSelectionBetween,\n    incrementActiveCell: incrementActiveCell,\n    cellDragStartRowIndex: cellDragStartRowIndex,\n    setCellDragStartRowIndex: setCellDragStartRowIndex,\n    onCellEnter: onCellEnter,\n    onCellSelectionDraggerMouseDown: onCellSelectionDraggerMouseDown,\n    toggleActiveCellSelection: toggleActiveCellSelection,\n    computedHasRowNavigation: computedHasRowNavigation,\n    computedRowSelectionEnabled: computedRowSelectionEnabled,\n    computedRowMultiSelectionEnabled: computedRowMultiSelectionEnabled,\n    computedSelected: computedSelected,\n    setSelected: setSelected,\n    computedUnselected: computedUnselected,\n    setUnselected: setUnselected,\n    isSelectionEmpty: isSelectionEmpty,\n    getSelectedMap: getSelectedMap,\n    getUnselectedMap: getUnselectedMap,\n    isRowSelected: isRowSelected,\n    getUnselectedCount: getUnselectedCount,\n    getSelectedCount: getSelectedCount,\n    computedUnselectedCount: computedUnselectedCount,\n    computedSelectedCount: computedSelectedCount,\n    getCellSelectionIdKey: getCellSelectionIdKey,\n    setActiveCell: setActiveCell,\n    getCellSelectionKey: getCellSelectionKey\n  };\n};\n\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}