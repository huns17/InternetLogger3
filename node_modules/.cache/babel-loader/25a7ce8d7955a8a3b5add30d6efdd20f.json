{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../../common/cleanProps\"));\n\nvar _Overlay = _interopRequireDefault(require(\"../../../Overlay\"));\n\nvar _FakeVirtualList = _interopRequireDefault(require(\"./FakeVirtualList\"));\n\nvar _Item = _interopRequireDefault(require(\"./Item\"));\n\nvar _getClassName = _interopRequireDefault(require(\"./utils/getClassName\"));\n\nvar _isSelected = _interopRequireDefault(require(\"../utils/isSelected\"));\n\nvar _getPositionRelativeToElement = _interopRequireDefault(require(\"../../../../common/getPositionRelativeToElement\"));\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar List = function (_Component) {\n  (0, _inherits2.default)(List, _Component);\n\n  var _super = _createSuper(List);\n\n  function List(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, List);\n    _this = _super.call(this, props);\n    _this.renderRow = _this.renderRow.bind((0, _assertThisInitialized2.default)(_this));\n    _this.getOverlayTarget = _this.getOverlayTarget.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleOnClick = _this.handleOnClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleItemClick = _this.handleItemClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.virtualListShouldComponentUpdate = _this.virtualListShouldComponentUpdate.bind((0, _assertThisInitialized2.default)(_this));\n\n    _this.setRootNode = function (ref) {\n      _this.listNode = ref;\n    };\n\n    _this.addVirtualListRef = function (ref) {\n      _this.virtualListNode = ref;\n    };\n\n    _this.state = {\n      succesfullPosition: 'bottom'\n    };\n    _this.listAligned = false;\n    return _this;\n  }\n\n  (0, _createClass2.default)(List, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.componentIsMounted = false;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (!this.props.relativeToViewport) {\n        setTimeout(function () {\n          _this2.updateListPosition();\n        }, 0);\n      }\n\n      this.componentIsMounted = true;\n\n      if (this.props.activeItemIndex != null) {\n        setTimeout(function () {\n          if (_this2.componentIsMounted) {\n            _this2.scrollToIndex(_this2.props.activeItemIndex);\n          }\n        }, 16);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = this.state,\n          props = this.props;\n      var renderFooter = props.renderFooter,\n          renderHeader = props.renderHeader,\n          isNewCustomTagValid = props.isNewCustomTagValid;\n      this.currentGroup = null;\n      var className = (0, _getClassName.default)({\n        state: state,\n        props: props\n      });\n      var style = props.style;\n\n      if (this.state.position) {\n        style = _objectSpread(_objectSpread({}, style), this.state.position);\n      }\n\n      if (this.state.succesfullPosition && this.props.offset) {\n        var positionName = this.state.succesfullPosition === 'bc-tc' ? 'top' : 'bottom';\n\n        if (this.props.offset) {\n          style = _objectSpread(_objectSpread({}, style), {}, (0, _defineProperty2.default)({}, positionName == 'top' ? 'marginBottom' : 'marginTop', this.props.offset));\n        }\n      }\n\n      if (!this.props.relativeToViewport && !this.listAligned) {\n        style = _objectSpread(_objectSpread({}, style), {}, {\n          visibility: 'hidden',\n          position: 'fixed'\n        });\n      }\n\n      var result = _react.default.createElement(\"div\", _objectSpread(_objectSpread({}, (0, _cleanProps.default)(props, List.propTypes)), {}, {\n        className: className,\n        style: style,\n        ref: this.setRootNode,\n        onClick: this.handleOnClick\n      }), this.renderLoadingText(), isNewCustomTagValid && this.renderNewCustomTagText(), typeof renderHeader === 'function' && this.renderHeader(), this.renderEmptyText(), this.renderVirtualList(), typeof renderFooter === 'function' && this.renderFooter());\n\n      if (this.props.relativeToViewport) {\n        var overlayProps = _objectSpread(_objectSpread({}, props.overlayProps), {}, {\n          target: this.getOverlayTarget,\n          relativeToViewport: this.props.relativeToViewport,\n          constrainTo: this.props.constrainTo,\n          positions: this.props.positions\n        });\n\n        return _react.default.createElement(_Overlay.default, _objectSpread({}, overlayProps), result);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getOverlayTarget\",\n    value: function getOverlayTarget() {\n      return this.props.getComboNode();\n    }\n  }, {\n    key: \"renderFooter\",\n    value: function renderFooter() {\n      return this.props.renderFooter({\n        props: this.props,\n        data: this.props.data,\n        value: this.props.value\n      });\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      return this.props.renderHeader({\n        props: this.props,\n        data: this.props.data,\n        value: this.props.value\n      });\n    }\n  }, {\n    key: \"renderEmptyText\",\n    value: function renderEmptyText() {\n      var data = this.props.data;\n\n      if (data && data.length || this.props.loading) {\n        return null;\n      }\n\n      if (this.props.isNewCustomTagValid) {\n        return null;\n      }\n\n      return _react.default.createElement(\"div\", {\n        className: \"\".concat(this.props.rootClassName, \"__empty-text\")\n      }, this.props.emptyText);\n    }\n  }, {\n    key: \"renderNewCustomTagText\",\n    value: function renderNewCustomTagText() {\n      var text = this.props.text;\n\n      if (this.props.newCustomTagText) {\n        return typeof this.props.newCustomTagText === 'function' ? this.props.newCustomTagText({\n          text: text\n        }) : this.props.newCustomTagText;\n      }\n\n      return _react.default.createElement(\"div\", {\n        className: \"\".concat(this.props.rootClassName, \"__new-custom-tag-text\")\n      }, \"Create option \\\"\", text, \"\\\"\");\n    }\n  }, {\n    key: \"renderLoadingText\",\n    value: function renderLoadingText() {\n      if (!this.props.loading) {\n        return null;\n      }\n\n      if (!this.props.loadingText) {\n        return null;\n      }\n\n      return _react.default.createElement(\"div\", {\n        className: \"\".concat(this.props.rootClassName, \"__loading-text\")\n      }, this.props.loadingText);\n    }\n  }, {\n    key: \"renderVirtualList\",\n    value: function renderVirtualList() {\n      var className = \"\".concat(this.props.rootClassName, \"__virtual-list\");\n      var count = this.props.dataLength;\n      var VirtualList = this.props.virtualListFactory;\n      var renderVirtualList = this.props.renderVirtualList;\n\n      if (!count) {\n        return null;\n      }\n\n      var style = {};\n\n      if (this.props.maxHeight) {\n        style.maxHeight = this.props.maxHeight;\n      }\n\n      if (this.state.constrainedHeight) {\n        var constrainedOffset = 16;\n        var constrainedHeight = this.props.maxHeight ? Math.min(this.props.maxHeight, this.state.constrainedHeight - constrainedOffset) : this.state.constrainedHeight - constrainedOffset;\n        style.maxHeight = constrainedHeight;\n      }\n\n      if (typeof style.maxHeight === 'number' && typeof this.props.minHeight == 'number') {\n        style.maxHeight = Math.max(style.maxHeight || 0, style.minHeight || 0);\n      }\n\n      var virtualListProps = {\n        ref: this.addVirtualListRef,\n        className: className,\n        autoHide: false,\n        count: count,\n        theme: this.props.theme,\n        renderRow: this.renderRow,\n        minRowHeight: 10,\n        tabIndex: null,\n        shouldComponentUpdate: this.virtualListShouldComponentUpdate,\n        scrollProps: {\n          onContainerScrollVerticalMax: this.props.onScrollBottom\n        },\n        style: style\n      };\n      var result;\n\n      if (renderVirtualList) {\n        result = renderVirtualList(virtualListProps);\n      }\n\n      if (result === undefined) {\n        if (VirtualList === _FakeVirtualList.default) {\n          virtualListProps.renderListScroller = this.props.renderListScroller;\n        }\n\n        result = _react.default.createElement(VirtualList, _objectSpread({}, virtualListProps));\n      }\n\n      if (result && result.props) {\n        this.rowHeight = result.props.rowHeight;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"virtualListShouldComponentUpdate\",\n    value: function virtualListShouldComponentUpdate() {\n      return true;\n    }\n  }, {\n    key: \"renderRow\",\n    value: function renderRow(_ref) {\n      var index = _ref.index;\n      var groups = this.props.groups;\n\n      if (groups && groups[index]) {\n        return this.renderGroup(groups[index], index);\n      }\n\n      var _this$props = this.props,\n          data = _this$props.data,\n          getIdProperty = _this$props.getIdProperty,\n          getDisplayProperty = _this$props.getDisplayProperty,\n          rootClassName = _this$props.rootClassName,\n          itemEllipsis = _this$props.itemEllipsis,\n          value = _this$props.value,\n          activeItem = _this$props.activeItem,\n          renderItem = _this$props.renderItem,\n          rtl = _this$props.rtl;\n      var renderIndex = this.currentGroup ? index - this.currentGroup.indexAjustment : index;\n      var item = data[renderIndex];\n      var id = getIdProperty(item);\n      var label = getDisplayProperty(item);\n      var selected = (0, _isSelected.default)({\n        value: value,\n        id: id\n      });\n      var active = id === activeItem;\n\n      var itemProps = _objectSpread(_objectSpread({}, this.props.itemProps), {}, {\n        index: renderIndex,\n        itemHeight: this.rowHeight,\n        itemEllipsis: itemEllipsis,\n        item: item,\n        id: id,\n        label: label,\n        selected: selected,\n        active: active,\n        renderItem: renderItem,\n        rtl: rtl,\n        rootClassName: \"\".concat(rootClassName, \"__item\"),\n        onClick: this.handleItemClick,\n        key: id || label\n      });\n\n      return _react.default.createElement(_Item.default, _objectSpread({}, itemProps));\n    }\n  }, {\n    key: \"renderGroup\",\n    value: function renderGroup(group, index) {\n      this.currentGroup = group;\n      var title = group.title;\n      var groupProps = {\n        children: title,\n        key: title,\n        className: \"\".concat(this.props.rootClassName, \"__group\")\n      };\n      var result;\n\n      if (typeof this.props.renderGroup === 'function') {\n        result = this.props.renderGroup({\n          domProps: groupProps,\n          index: index,\n          group: group\n        });\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", _objectSpread({}, groupProps));\n      }\n\n      return result;\n    }\n  }, {\n    key: \"handleOnClick\",\n    value: function handleOnClick(event) {\n      event.stopPropagation();\n    }\n  }, {\n    key: \"handleItemClick\",\n    value: function handleItemClick(index) {\n      this.props.onItemClick(index);\n    }\n  }, {\n    key: \"updateListPosition\",\n    value: function updateListPosition() {\n      var comboNode = this.props.getComboNode();\n\n      if (!comboNode) {\n        return null;\n      }\n\n      var listNode = this.listNode;\n\n      if (!listNode) {\n        return null;\n      }\n\n      var positionConfig = (0, _getPositionRelativeToElement.default)({\n        targetNode: comboNode,\n        overlayNode: listNode,\n        offset: this.props.offset,\n        constrainTo: this.props.constrainTo,\n        relativeToViewport: this.props.relativeToViewport,\n        positions: this.props.positions\n      });\n      this.listAligned = true;\n\n      if (positionConfig) {\n        var constrainedHeight = positionConfig.constrainedHeight,\n            positionRegion = positionConfig.positionRegion,\n            succesfullPosition = positionConfig.succesfullPosition,\n            position = positionConfig.position;\n        this.setState({\n          positionRegion: positionRegion,\n          succesfullPosition: succesfullPosition,\n          constrainedHeight: constrainedHeight ? positionRegion.getHeight() : null\n        });\n      }\n    }\n  }, {\n    key: \"getVirtualListNode\",\n    value: function getVirtualListNode() {\n      return this.virtualListNode;\n    }\n  }, {\n    key: \"getlListNode\",\n    value: function getlListNode() {\n      return this.listNode;\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var virtualListNode = this.getVirtualListNode();\n      return virtualListNode && virtualListNode.scrollToIndex(index);\n    }\n  }]);\n  return List;\n}(_react.Component);\n\nfunction emptyFn() {}\n\nList.defaultProps = {\n  selectedStyle: {},\n  style: {},\n  onItemClick: emptyFn,\n  getComboNode: emptyFn,\n  positions: ['bottom', 'top'],\n  offset: 0,\n  constrainTo: true,\n  virtualListFactory: _FakeVirtualList.default,\n  overlayProps: {\n    theme: null,\n    syncWidth: true,\n    rafOnMount: false,\n    adjustOnPositionBottom: false,\n    updatePositionOnScroll: true,\n    offset: 2,\n    visible: true\n  }\n};\nList.propTypes = {\n  data: _propTypes.default.array,\n  autoPosition: _propTypes.default.bool,\n  emptyText: _propTypes.default.node,\n  dataLength: _propTypes.default.number,\n  rootClassName: _propTypes.default.string,\n  highlightFirst: _propTypes.default.bool,\n  maxHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  minHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  groups: _propTypes.default.object,\n  itemEllipsis: _propTypes.default.bool,\n  onScrollBottom: _propTypes.default.func,\n  renderListScroller: _propTypes.default.func,\n  renderGroup: _propTypes.default.func,\n  renderFooter: _propTypes.default.func,\n  renderHeader: _propTypes.default.func,\n  renderItem: _propTypes.default.func,\n  activeItemIndex: _propTypes.default.number,\n  virtualListFactory: _propTypes.default.func,\n  renderVirtualList: _propTypes.default.func,\n  text: _propTypes.default.string,\n  newCustomTagText: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  isNewCustomTagValid: _propTypes.default.bool,\n  positions: _propTypes.default.arrayOf(_propTypes.default.string),\n  constrainTo: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.func, _propTypes.default.object, _propTypes.default.bool]),\n  offset: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  })]))]),\n  loadingText: _propTypes.default.node,\n  loading: _propTypes.default.bool,\n  relativeToViewport: _propTypes.default.bool,\n  overlayProps: _propTypes.default.object,\n  itemProps: _propTypes.default.object,\n  activeItem: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.bool]),\n  selectedStyle: _propTypes.default.object,\n  getIdProperty: _propTypes.default.func,\n  getDisplayProperty: _propTypes.default.func,\n  rtl: _propTypes.default.bool,\n  onItemClick: _propTypes.default.func,\n  getComboNode: _propTypes.default.func\n};\nvar _default = List;\nexports.default = _default;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/리액트/인터로거/ILP-main/node_modules/@inovua/reactdatagrid-community/packages/ComboBox/src/List/List.js"],"names":["_interopRequireDefault","require","_typeof","Object","defineProperty","exports","value","default","_defineProperty2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_react","_interopRequireWildcard","_propTypes","_cleanProps","_Overlay","_FakeVirtualList","_Item","_getClassName","_isSelected","_getPositionRelativeToElement","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","valueOf","e","List","_Component","_super","props","_this","renderRow","bind","getOverlayTarget","handleOnClick","handleItemClick","virtualListShouldComponentUpdate","setRootNode","ref","listNode","addVirtualListRef","virtualListNode","state","succesfullPosition","listAligned","componentWillUnmount","componentIsMounted","componentDidMount","_this2","relativeToViewport","setTimeout","updateListPosition","activeItemIndex","scrollToIndex","render","renderFooter","renderHeader","isNewCustomTagValid","currentGroup","className","style","position","offset","positionName","visibility","createElement","propTypes","onClick","renderLoadingText","renderNewCustomTagText","renderEmptyText","renderVirtualList","overlayProps","constrainTo","positions","getComboNode","data","loading","concat","rootClassName","emptyText","text","newCustomTagText","loadingText","count","dataLength","VirtualList","virtualListFactory","maxHeight","constrainedHeight","constrainedOffset","Math","min","minHeight","max","virtualListProps","autoHide","theme","minRowHeight","tabIndex","shouldComponentUpdate","scrollProps","onContainerScrollVerticalMax","onScrollBottom","undefined","renderListScroller","rowHeight","_ref","index","groups","renderGroup","_this$props","getIdProperty","getDisplayProperty","itemEllipsis","activeItem","renderItem","rtl","renderIndex","indexAjustment","item","id","label","selected","active","itemProps","itemHeight","group","title","groupProps","children","domProps","event","stopPropagation","onItemClick","comboNode","positionConfig","targetNode","overlayNode","positionRegion","setState","getHeight","getVirtualListNode","getlListNode","Component","emptyFn","defaultProps","selectedStyle","syncWidth","rafOnMount","adjustOnPositionBottom","updatePositionOnScroll","visible","array","autoPosition","bool","node","number","string","highlightFirst","oneOfType","func","arrayOf","shape","x","y","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../../common/cleanProps\"));\n\nvar _Overlay = _interopRequireDefault(require(\"../../../Overlay\"));\n\nvar _FakeVirtualList = _interopRequireDefault(require(\"./FakeVirtualList\"));\n\nvar _Item = _interopRequireDefault(require(\"./Item\"));\n\nvar _getClassName = _interopRequireDefault(require(\"./utils/getClassName\"));\n\nvar _isSelected = _interopRequireDefault(require(\"../utils/isSelected\"));\n\nvar _getPositionRelativeToElement = _interopRequireDefault(require(\"../../../../common/getPositionRelativeToElement\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar List = function (_Component) {\n  (0, _inherits2.default)(List, _Component);\n\n  var _super = _createSuper(List);\n\n  function List(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, List);\n    _this = _super.call(this, props);\n    _this.renderRow = _this.renderRow.bind((0, _assertThisInitialized2.default)(_this));\n    _this.getOverlayTarget = _this.getOverlayTarget.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleOnClick = _this.handleOnClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleItemClick = _this.handleItemClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.virtualListShouldComponentUpdate = _this.virtualListShouldComponentUpdate.bind((0, _assertThisInitialized2.default)(_this));\n\n    _this.setRootNode = function (ref) {\n      _this.listNode = ref;\n    };\n\n    _this.addVirtualListRef = function (ref) {\n      _this.virtualListNode = ref;\n    };\n\n    _this.state = {\n      succesfullPosition: 'bottom'\n    };\n    _this.listAligned = false;\n    return _this;\n  }\n\n  (0, _createClass2.default)(List, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.componentIsMounted = false;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (!this.props.relativeToViewport) {\n        setTimeout(function () {\n          _this2.updateListPosition();\n        }, 0);\n      }\n\n      this.componentIsMounted = true;\n\n      if (this.props.activeItemIndex != null) {\n        setTimeout(function () {\n          if (_this2.componentIsMounted) {\n            _this2.scrollToIndex(_this2.props.activeItemIndex);\n          }\n        }, 16);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = this.state,\n          props = this.props;\n      var renderFooter = props.renderFooter,\n          renderHeader = props.renderHeader,\n          isNewCustomTagValid = props.isNewCustomTagValid;\n      this.currentGroup = null;\n      var className = (0, _getClassName.default)({\n        state: state,\n        props: props\n      });\n      var style = props.style;\n\n      if (this.state.position) {\n        style = _objectSpread(_objectSpread({}, style), this.state.position);\n      }\n\n      if (this.state.succesfullPosition && this.props.offset) {\n        var positionName = this.state.succesfullPosition === 'bc-tc' ? 'top' : 'bottom';\n\n        if (this.props.offset) {\n          style = _objectSpread(_objectSpread({}, style), {}, (0, _defineProperty2.default)({}, positionName == 'top' ? 'marginBottom' : 'marginTop', this.props.offset));\n        }\n      }\n\n      if (!this.props.relativeToViewport && !this.listAligned) {\n        style = _objectSpread(_objectSpread({}, style), {}, {\n          visibility: 'hidden',\n          position: 'fixed'\n        });\n      }\n\n      var result = _react.default.createElement(\"div\", _objectSpread(_objectSpread({}, (0, _cleanProps.default)(props, List.propTypes)), {}, {\n        className: className,\n        style: style,\n        ref: this.setRootNode,\n        onClick: this.handleOnClick\n      }), this.renderLoadingText(), isNewCustomTagValid && this.renderNewCustomTagText(), typeof renderHeader === 'function' && this.renderHeader(), this.renderEmptyText(), this.renderVirtualList(), typeof renderFooter === 'function' && this.renderFooter());\n\n      if (this.props.relativeToViewport) {\n        var overlayProps = _objectSpread(_objectSpread({}, props.overlayProps), {}, {\n          target: this.getOverlayTarget,\n          relativeToViewport: this.props.relativeToViewport,\n          constrainTo: this.props.constrainTo,\n          positions: this.props.positions\n        });\n\n        return _react.default.createElement(_Overlay.default, _objectSpread({}, overlayProps), result);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getOverlayTarget\",\n    value: function getOverlayTarget() {\n      return this.props.getComboNode();\n    }\n  }, {\n    key: \"renderFooter\",\n    value: function renderFooter() {\n      return this.props.renderFooter({\n        props: this.props,\n        data: this.props.data,\n        value: this.props.value\n      });\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      return this.props.renderHeader({\n        props: this.props,\n        data: this.props.data,\n        value: this.props.value\n      });\n    }\n  }, {\n    key: \"renderEmptyText\",\n    value: function renderEmptyText() {\n      var data = this.props.data;\n\n      if (data && data.length || this.props.loading) {\n        return null;\n      }\n\n      if (this.props.isNewCustomTagValid) {\n        return null;\n      }\n\n      return _react.default.createElement(\"div\", {\n        className: \"\".concat(this.props.rootClassName, \"__empty-text\")\n      }, this.props.emptyText);\n    }\n  }, {\n    key: \"renderNewCustomTagText\",\n    value: function renderNewCustomTagText() {\n      var text = this.props.text;\n\n      if (this.props.newCustomTagText) {\n        return typeof this.props.newCustomTagText === 'function' ? this.props.newCustomTagText({\n          text: text\n        }) : this.props.newCustomTagText;\n      }\n\n      return _react.default.createElement(\"div\", {\n        className: \"\".concat(this.props.rootClassName, \"__new-custom-tag-text\")\n      }, \"Create option \\\"\", text, \"\\\"\");\n    }\n  }, {\n    key: \"renderLoadingText\",\n    value: function renderLoadingText() {\n      if (!this.props.loading) {\n        return null;\n      }\n\n      if (!this.props.loadingText) {\n        return null;\n      }\n\n      return _react.default.createElement(\"div\", {\n        className: \"\".concat(this.props.rootClassName, \"__loading-text\")\n      }, this.props.loadingText);\n    }\n  }, {\n    key: \"renderVirtualList\",\n    value: function renderVirtualList() {\n      var className = \"\".concat(this.props.rootClassName, \"__virtual-list\");\n      var count = this.props.dataLength;\n      var VirtualList = this.props.virtualListFactory;\n      var renderVirtualList = this.props.renderVirtualList;\n\n      if (!count) {\n        return null;\n      }\n\n      var style = {};\n\n      if (this.props.maxHeight) {\n        style.maxHeight = this.props.maxHeight;\n      }\n\n      if (this.state.constrainedHeight) {\n        var constrainedOffset = 16;\n        var constrainedHeight = this.props.maxHeight ? Math.min(this.props.maxHeight, this.state.constrainedHeight - constrainedOffset) : this.state.constrainedHeight - constrainedOffset;\n        style.maxHeight = constrainedHeight;\n      }\n\n      if (typeof style.maxHeight === 'number' && typeof this.props.minHeight == 'number') {\n        style.maxHeight = Math.max(style.maxHeight || 0, style.minHeight || 0);\n      }\n\n      var virtualListProps = {\n        ref: this.addVirtualListRef,\n        className: className,\n        autoHide: false,\n        count: count,\n        theme: this.props.theme,\n        renderRow: this.renderRow,\n        minRowHeight: 10,\n        tabIndex: null,\n        shouldComponentUpdate: this.virtualListShouldComponentUpdate,\n        scrollProps: {\n          onContainerScrollVerticalMax: this.props.onScrollBottom\n        },\n        style: style\n      };\n      var result;\n\n      if (renderVirtualList) {\n        result = renderVirtualList(virtualListProps);\n      }\n\n      if (result === undefined) {\n        if (VirtualList === _FakeVirtualList.default) {\n          virtualListProps.renderListScroller = this.props.renderListScroller;\n        }\n\n        result = _react.default.createElement(VirtualList, _objectSpread({}, virtualListProps));\n      }\n\n      if (result && result.props) {\n        this.rowHeight = result.props.rowHeight;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"virtualListShouldComponentUpdate\",\n    value: function virtualListShouldComponentUpdate() {\n      return true;\n    }\n  }, {\n    key: \"renderRow\",\n    value: function renderRow(_ref) {\n      var index = _ref.index;\n      var groups = this.props.groups;\n\n      if (groups && groups[index]) {\n        return this.renderGroup(groups[index], index);\n      }\n\n      var _this$props = this.props,\n          data = _this$props.data,\n          getIdProperty = _this$props.getIdProperty,\n          getDisplayProperty = _this$props.getDisplayProperty,\n          rootClassName = _this$props.rootClassName,\n          itemEllipsis = _this$props.itemEllipsis,\n          value = _this$props.value,\n          activeItem = _this$props.activeItem,\n          renderItem = _this$props.renderItem,\n          rtl = _this$props.rtl;\n      var renderIndex = this.currentGroup ? index - this.currentGroup.indexAjustment : index;\n      var item = data[renderIndex];\n      var id = getIdProperty(item);\n      var label = getDisplayProperty(item);\n      var selected = (0, _isSelected.default)({\n        value: value,\n        id: id\n      });\n      var active = id === activeItem;\n\n      var itemProps = _objectSpread(_objectSpread({}, this.props.itemProps), {}, {\n        index: renderIndex,\n        itemHeight: this.rowHeight,\n        itemEllipsis: itemEllipsis,\n        item: item,\n        id: id,\n        label: label,\n        selected: selected,\n        active: active,\n        renderItem: renderItem,\n        rtl: rtl,\n        rootClassName: \"\".concat(rootClassName, \"__item\"),\n        onClick: this.handleItemClick,\n        key: id || label\n      });\n\n      return _react.default.createElement(_Item.default, _objectSpread({}, itemProps));\n    }\n  }, {\n    key: \"renderGroup\",\n    value: function renderGroup(group, index) {\n      this.currentGroup = group;\n      var title = group.title;\n      var groupProps = {\n        children: title,\n        key: title,\n        className: \"\".concat(this.props.rootClassName, \"__group\")\n      };\n      var result;\n\n      if (typeof this.props.renderGroup === 'function') {\n        result = this.props.renderGroup({\n          domProps: groupProps,\n          index: index,\n          group: group\n        });\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", _objectSpread({}, groupProps));\n      }\n\n      return result;\n    }\n  }, {\n    key: \"handleOnClick\",\n    value: function handleOnClick(event) {\n      event.stopPropagation();\n    }\n  }, {\n    key: \"handleItemClick\",\n    value: function handleItemClick(index) {\n      this.props.onItemClick(index);\n    }\n  }, {\n    key: \"updateListPosition\",\n    value: function updateListPosition() {\n      var comboNode = this.props.getComboNode();\n\n      if (!comboNode) {\n        return null;\n      }\n\n      var listNode = this.listNode;\n\n      if (!listNode) {\n        return null;\n      }\n\n      var positionConfig = (0, _getPositionRelativeToElement.default)({\n        targetNode: comboNode,\n        overlayNode: listNode,\n        offset: this.props.offset,\n        constrainTo: this.props.constrainTo,\n        relativeToViewport: this.props.relativeToViewport,\n        positions: this.props.positions\n      });\n      this.listAligned = true;\n\n      if (positionConfig) {\n        var constrainedHeight = positionConfig.constrainedHeight,\n            positionRegion = positionConfig.positionRegion,\n            succesfullPosition = positionConfig.succesfullPosition,\n            position = positionConfig.position;\n        this.setState({\n          positionRegion: positionRegion,\n          succesfullPosition: succesfullPosition,\n          constrainedHeight: constrainedHeight ? positionRegion.getHeight() : null\n        });\n      }\n    }\n  }, {\n    key: \"getVirtualListNode\",\n    value: function getVirtualListNode() {\n      return this.virtualListNode;\n    }\n  }, {\n    key: \"getlListNode\",\n    value: function getlListNode() {\n      return this.listNode;\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var virtualListNode = this.getVirtualListNode();\n      return virtualListNode && virtualListNode.scrollToIndex(index);\n    }\n  }]);\n  return List;\n}(_react.Component);\n\nfunction emptyFn() {}\n\nList.defaultProps = {\n  selectedStyle: {},\n  style: {},\n  onItemClick: emptyFn,\n  getComboNode: emptyFn,\n  positions: ['bottom', 'top'],\n  offset: 0,\n  constrainTo: true,\n  virtualListFactory: _FakeVirtualList.default,\n  overlayProps: {\n    theme: null,\n    syncWidth: true,\n    rafOnMount: false,\n    adjustOnPositionBottom: false,\n    updatePositionOnScroll: true,\n    offset: 2,\n    visible: true\n  }\n};\nList.propTypes = {\n  data: _propTypes.default.array,\n  autoPosition: _propTypes.default.bool,\n  emptyText: _propTypes.default.node,\n  dataLength: _propTypes.default.number,\n  rootClassName: _propTypes.default.string,\n  highlightFirst: _propTypes.default.bool,\n  maxHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  minHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  groups: _propTypes.default.object,\n  itemEllipsis: _propTypes.default.bool,\n  onScrollBottom: _propTypes.default.func,\n  renderListScroller: _propTypes.default.func,\n  renderGroup: _propTypes.default.func,\n  renderFooter: _propTypes.default.func,\n  renderHeader: _propTypes.default.func,\n  renderItem: _propTypes.default.func,\n  activeItemIndex: _propTypes.default.number,\n  virtualListFactory: _propTypes.default.func,\n  renderVirtualList: _propTypes.default.func,\n  text: _propTypes.default.string,\n  newCustomTagText: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  isNewCustomTagValid: _propTypes.default.bool,\n  positions: _propTypes.default.arrayOf(_propTypes.default.string),\n  constrainTo: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.func, _propTypes.default.object, _propTypes.default.bool]),\n  offset: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  })]))]),\n  loadingText: _propTypes.default.node,\n  loading: _propTypes.default.bool,\n  relativeToViewport: _propTypes.default.bool,\n  overlayProps: _propTypes.default.object,\n  itemProps: _propTypes.default.object,\n  activeItem: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.bool]),\n  selectedStyle: _propTypes.default.object,\n  getIdProperty: _propTypes.default.func,\n  getDisplayProperty: _propTypes.default.func,\n  rtl: _propTypes.default.bool,\n  onItemClick: _propTypes.default.func,\n  getComboNode: _propTypes.default.func\n};\nvar _default = List;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}