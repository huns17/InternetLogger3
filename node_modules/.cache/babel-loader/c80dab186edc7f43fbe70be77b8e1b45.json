{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderColumnFilterContextMenu = exports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _useProperty5 = _interopRequireDefault(require(\"../../../hooks/useProperty\"));\n\nvar _getFilterValueForColumns = _interopRequireDefault(require(\"../../../hooks/useDataSource/getFilterValueForColumns\"));\n\nvar _batchUpdate = _interopRequireDefault(require(\"../../../utils/batchUpdate\"));\n\nvar _mapColumns = _interopRequireDefault(require(\"../../../mapColumns\"));\n\nvar _ua = require(\"../../../common/ua\");\n\nvar _Menu = _interopRequireDefault(require(\"../../../packages/Menu\"));\n\nvar _renderGridMenu = _interopRequireDefault(require(\"../../../renderGridMenu\"));\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar emptyArray = [];\nvar COLUMN_MENU_ALIGN_POSITIONS = ['tl-bl', 'tr-br', 'tl-tr', 'tr-tl', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\nvar COLUMN_MENU_ALIGN_POSITIONS_RTL = ['tr-br', 'tl-bl', 'tr-tl', 'tl-tr', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\n\nvar renderColumnFilterContextMenu = function renderColumnFilterContextMenu(computedProps, computedPropsRef) {\n  if (!computedProps) {\n    return null;\n  }\n\n  var cellProps = computedProps.columnFilterContextMenuProps;\n\n  if (!cellProps) {\n    return null;\n  }\n\n  var filterValue = computedProps.computedFilterValueMap ? computedProps.computedFilterValueMap[cellProps.id] : null;\n\n  if (!filterValue) {\n    return null;\n  }\n\n  var columnOperators = computedProps.initialProps.filterTypes[filterValue.type].operators || emptyArray;\n  var selected = {\n    operator: filterValue.operator\n  };\n  var showEnableButton = filterValue.active === false;\n  var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n  var isFiltered = computedProps.computedFiltered;\n\n  var items = function () {\n    var activationItems = ['-', {\n      label: computedProps.i18n('enable', 'Enable'),\n      itemId: 'enableFilter',\n      disabled: !showEnableButton,\n      onClick: function onClick() {\n        var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n          active: true\n        });\n\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        computedProps.computedOnColumnFilterValueChange({\n          columnId: cellProps.id,\n          columnIndex: cellProps.computedVisibleIndex,\n          cellProps: cellProps,\n          filterValue: newFilterValue\n        });\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, {\n      label: computedProps.i18n('disable', 'Disable'),\n      disabled: showEnableButton,\n      itemId: 'disableFilter',\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n          active: false\n        });\n\n        computedProps.computedOnColumnFilterValueChange({\n          columnId: cellProps.id,\n          cellProps: cellProps,\n          columnIndex: cellProps.computedVisibleIndex,\n          filterValue: newFilterValue\n        });\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, '-', {\n      label: computedProps.i18n('clear', 'Clear'),\n      itemId: 'clearFilter',\n      disabled: filterValue.value === filterType.emptyValue,\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        computedProps.clearColumnFilter(cellProps.id);\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, {\n      label: computedProps.i18n('clearAll', 'Clear All'),\n      itemId: 'clearAllFilters',\n      disabled: !isFiltered,\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        computedProps.clearAllFilters();\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }];\n    var items = columnOperators.map(function (operator) {\n      return {\n        label: computedProps.i18n(operator.label, operator.label) || computedProps.i18n(operator.name, operator.name),\n        name: 'operator',\n        itemId: \"operator-\".concat(operator.name),\n        value: operator.name\n      };\n    });\n    items.push.apply(items, activationItems);\n    return items;\n  }();\n\n  var onSelectionChange = function onSelectionChange(selected) {\n    var operator = selected.operator;\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var filterTypes = computedProps.initialProps.filterTypes;\n    var filterTypeDescription = filterTypes[filterType.type] || {\n      operators: []\n    };\n    var operatorDescriptor = filterTypeDescription.operators.filter(function (op) {\n      return op.name === operator;\n    })[0];\n\n    var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n      operator: operator\n    });\n\n    if (operatorDescriptor && operatorDescriptor.valueOnOperatorSelect !== undefined) {\n      newFilterValue.value = operatorDescriptor.valueOnOperatorSelect;\n    }\n\n    computedProps.computedOnColumnFilterValueChange({\n      columnId: cellProps.id,\n      cellProps: cellProps,\n      columnIndex: cellProps.computedVisibleIndex,\n      filterValue: newFilterValue\n    });\n    computedProps.hideColumnFilterContextMenu();\n  };\n\n  var rtl = computedProps.rtl;\n  var menuProps = {\n    autoFocus: true,\n    items: items,\n    theme: computedProps.theme,\n    updatePositionOnScroll: computedProps.updateMenuPositionOnScroll,\n    nativeScroll: !_ua.IS_MS_BROWSER,\n    enableSelection: true,\n    maxHeight: computedProps.columnFilterContextMenuConstrainTo ? null : computedProps.getMenuAvailableHeight(),\n    style: {\n      zIndex: 10000,\n      position: computedProps.columnFilterContextMenuPosition || 'absolute'\n    },\n    selected: selected,\n    onSelectionChange: onSelectionChange,\n    onDismiss: computedProps.hideColumnFilterContextMenu,\n    constrainTo: computedProps.columnFilterContextMenuConstrainTo,\n    alignPositions: computedProps.columnFilterContextMenuAlignPositions || rtl ? COLUMN_MENU_ALIGN_POSITIONS_RTL : COLUMN_MENU_ALIGN_POSITIONS,\n    alignTo: computedProps.columnFilterContextMenuAlignToRef.current\n  };\n  var result;\n\n  if (computedProps.initialProps.renderColumnFilterContextMenu) {\n    result = computedProps.initialProps.renderColumnFilterContextMenu(menuProps, {\n      cellProps: cellProps,\n      grid: computedPropsRef,\n      props: computedProps\n    });\n  }\n\n  if (result === undefined) {\n    result = _react.default.createElement(_Menu.default, _objectSpread({}, menuProps));\n  }\n\n  if (computedProps.initialProps.renderGridMenu) {\n    return computedProps.initialProps.renderGridMenu(result, computedProps);\n  }\n\n  return (0, _renderGridMenu.default)(result, computedProps);\n};\n\nexports.renderColumnFilterContextMenu = renderColumnFilterContextMenu;\n\nvar useFilterValue = function useFilterValue(props, _ref, computedPropsRef) {\n  var columnsMap = _ref.columnsMap,\n      enableFiltering = _ref.enableFiltering;\n\n  var _useProperty = (0, _useProperty5.default)(props, 'filterValue'),\n      _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n      filterValue = _useProperty2[0],\n      doSetFilterValue = _useProperty2[1];\n\n  filterValue = (0, _react.useMemo)(function () {\n    return (0, _getFilterValueForColumns.default)(filterValue || [], columnsMap);\n  }, [filterValue || [], columnsMap]);\n\n  if (!filterValue.length) {\n    filterValue = null;\n  }\n\n  var setFilterValue = (0, _react.useCallback)(function (filterValue) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    filterValue = (0, _getFilterValueForColumns.default)(filterValue, computedProps.columnsMap);\n    var queue = (0, _batchUpdate.default)();\n    queue.commit(function () {\n      computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n        return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['filterValue']);\n      });\n      doSetFilterValue(filterValue);\n    });\n  }, [doSetFilterValue]);\n  return [filterValue, setFilterValue];\n};\n\nvar isFilterable = function isFilterable(_ref2) {\n  var enableFiltering = _ref2.enableFiltering,\n      filterValue = _ref2.filterValue;\n\n  if (enableFiltering !== undefined) {\n    return enableFiltering;\n  }\n\n  if (!Array.isArray(filterValue) || !filterValue.length) {\n    return false;\n  }\n\n  return true;\n};\n\nvar useFilters = function useFilters(props, computedProps, computedPropsRef) {\n  var _useProperty3 = (0, _useProperty5.default)(props, 'enableFiltering'),\n      _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n      enableFiltering = _useProperty4[0],\n      setEnableFiltering = _useProperty4[1];\n\n  var isColumnFiltered = (0, _react.useCallback)(function (col) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return false;\n    }\n\n    var column = computedProps.getColumnBy(col);\n    var filterValue = computedProps.getColumnFilterValue(col.id);\n\n    if (!filterValue) {\n      return false;\n    }\n\n    var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n    return filterValue.value !== filterType.emptyValue;\n  }, []);\n  var columnsMap = (0, _react.useMemo)(function () {\n    return (0, _mapColumns.default)(props.columns, {\n      showWarnings: false\n    });\n  }, [props.columns]);\n\n  var _useFilterValue = useFilterValue(props, {\n    enableFiltering: enableFiltering,\n    columnsMap: columnsMap\n  }, computedPropsRef),\n      _useFilterValue2 = (0, _slicedToArray2.default)(_useFilterValue, 2),\n      computedFilterValue = _useFilterValue2[0],\n      setFilterValue = _useFilterValue2[1];\n\n  var getMenuAvailableHeight = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return undefined;\n    }\n\n    var filtersHeight = 0;\n\n    if (computedProps.computedFilterable) {\n      var filterNode = computedProps.getDOMNode().querySelector('.InovuaReactDataGrid__column-header__filter-wrapper');\n\n      if (filterNode) {\n        filtersHeight = filterNode.offsetHeight;\n      }\n    }\n\n    return computedProps.size ? computedProps.size.height - 5 + filtersHeight : undefined;\n  }, []);\n  var clearAllFilters = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (!computedProps.computedFilterValueMap) {\n      return;\n    }\n\n    var allFiltersValue = [];\n    var headerCells = computedProps.getColumnLayout().getHeaderCells();\n    computedProps.allColumns.forEach(function (column) {\n      var filterValue = computedProps.computedFilterValueMap[column.id];\n\n      if (!filterValue) {\n        return;\n      }\n\n      var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n      var headerCell = headerCells[column.computedVisibleIndex];\n\n      var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n        value: filterType.emptyValue\n      });\n\n      if (headerCell && headerCell.filter) {\n        headerCell.filter.setValue(newFilterValue.value);\n      }\n\n      allFiltersValue.push(newFilterValue);\n    });\n    setFilterValue(allFiltersValue);\n  }, [setFilterValue]);\n  var columnFilterContextMenuAlignToRef = (0, _react.useRef)(null);\n  var columnFilterContextMenuConstrainToRef = (0, _react.useRef)(null);\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      columnFilterContextMenuProps = _useState2[0],\n      setColumnFilterContextMenuProps = _useState2[1];\n\n  var showColumnFilterContextMenu = (0, _react.useCallback)(function (alignTo, cellProps) {\n    var computedProps = computedPropsRef.current;\n\n    if (columnFilterContextMenuProps || !computedProps) {\n      return;\n    }\n\n    columnFilterContextMenuAlignToRef.current = alignTo;\n    columnFilterContextMenuConstrainToRef.current = computedProps.columnFilterContextMenuConstrainTo || computedProps.getDOMNode();\n\n    if (computedProps.hideColumnContextMenu) {\n      computedProps.hideColumnContextMenu();\n    }\n\n    setColumnFilterContextMenuProps(cellProps);\n  }, [setColumnFilterContextMenuProps]);\n  var hideColumnFilterContextMenu = (0, _react.useCallback)(function () {\n    if (columnFilterContextMenuProps) {\n      setColumnFilterContextMenuProps(null);\n    }\n  }, [columnFilterContextMenuProps]);\n  var shouldShowFilteringMenuItems = (0, _react.useCallback)(function () {\n    if (props.showFilteringMenuItems) {\n      return true;\n    }\n\n    if (computedFilterValue) {\n      return true;\n    }\n\n    if (enableFiltering) {\n      return true;\n    }\n\n    return false;\n  }, [computedFilterValue, enableFiltering, props.showFilteringMenuItems]);\n  var computedFilterValueMap = (0, _react.useMemo)(function () {\n    return computedFilterValue ? computedFilterValue.reduce(function (acc, columnFilterValue) {\n      acc[columnFilterValue.name] = columnFilterValue;\n      return acc;\n    }, {}) : null;\n  }, [computedFilterValue]);\n  var computedOnColumnFilterValueChange = (0, _react.useCallback)(function (columnFilterValue) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var isBinaryOperator = computedProps.isBinaryOperator;\n\n    if (computedProps.onColumnFilterValueChange) {\n      computedProps.onColumnFilterValueChange(columnFilterValue);\n    }\n\n    var computedFilterValue = computedProps.computedFilterValue;\n    var newFilterValue = (computedFilterValue || []).map(function (oldFilterValue) {\n      if (oldFilterValue.name === columnFilterValue.columnId) {\n        var emptyValue = getColumnFilterEmptyValue(columnFilterValue.columnId);\n\n        if (columnFilterValue.filterValue.type === 'date' || columnFilterValue.filterValue.type === 'number') {\n          if (isBinaryOperator(oldFilterValue.operator) && !isBinaryOperator(columnFilterValue.filterValue.operator)) {\n            return _objectSpread(_objectSpread({}, columnFilterValue.filterValue), {}, {\n              value: emptyValue\n            });\n          }\n\n          if (!isBinaryOperator(oldFilterValue.operator) && isBinaryOperator(columnFilterValue.filterValue.operator)) {\n            return _objectSpread(_objectSpread({}, columnFilterValue.filterValue), {}, {\n              value: columnFilterValue.filterValue && columnFilterValue.filterValue.value != null && columnFilterValue.filterValue.value.start != null ? columnFilterValue.filterValue.value : {\n                start: emptyValue,\n                end: emptyValue\n              }\n            });\n          }\n        }\n\n        return columnFilterValue.filterValue;\n      }\n\n      return oldFilterValue;\n    }).filter(function (f) {\n      return !!f;\n    });\n    setFilterValue(newFilterValue);\n  }, [setFilterValue]);\n  var getColumnFilterValue = (0, _react.useCallback)(function (column) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return null;\n    }\n\n    var col = computedProps.getColumnBy(column);\n\n    if (!col) {\n      return null;\n    }\n\n    if (!computedProps.computedFilterValueMap) {\n      return null;\n    }\n\n    return computedProps.computedFilterValueMap[col.id];\n  }, []);\n  var setColumnFilterValue = (0, _react.useCallback)(function (column, value, operator) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return null;\n    }\n\n    var filterValue = getColumnFilterValue(column);\n\n    if (!filterValue) {\n      return;\n    }\n\n    var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n      value: value\n    });\n\n    if (operator) {\n      newFilterValue.operator = operator;\n    }\n\n    var col = computedProps.getColumnBy(column);\n    var headerCells = computedProps.getColumnLayout().getHeaderCells();\n    var headerCell = headerCells[col.computedVisibleIndex];\n\n    if (!headerCell || !headerCell.filter) {\n      return;\n    }\n\n    computedProps.computedOnColumnFilterValueChange({\n      columnId: col.id,\n      columnIndex: col.computedVisibleIndex,\n      filterValue: newFilterValue\n    });\n    headerCell.filter.setValue(value);\n  }, []);\n  var getColumnFilterEmptyValue = (0, _react.useCallback)(function (idNameOrIndex) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var col = computedProps.getColumnBy(idNameOrIndex);\n\n    if (!col) {\n      return;\n    }\n\n    if (!computedProps.computedFilterValueMap) {\n      return;\n    }\n\n    var filterValue = computedProps.computedFilterValueMap[col.id];\n\n    if (!filterValue) {\n      return;\n    }\n\n    var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n    return filterType.emptyValue;\n  }, []);\n  var clearColumnFilter = (0, _react.useCallback)(function (idNameOrIndex) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var col = computedProps.getColumnBy(idNameOrIndex);\n\n    if (!col) {\n      return;\n    }\n\n    computedProps.setColumnFilterValue(idNameOrIndex, getColumnFilterEmptyValue(idNameOrIndex));\n  }, []);\n  var isFiltered = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return false;\n    }\n\n    return (computedProps.computedFilterValue || []).reduce(function (result, filterValue) {\n      if (result) {\n        return true;\n      }\n\n      var col = computedProps.getColumnBy(filterValue.name);\n\n      if (col && isColumnFiltered(col)) {\n        return true;\n      }\n\n      return false;\n    }, false);\n  }, []);\n  var computedFiltered = isFiltered();\n  return {\n    clearColumnFilter: clearColumnFilter,\n    computedOnColumnFilterValueChange: computedOnColumnFilterValueChange,\n    computedFilterValueMap: computedFilterValueMap,\n    computedFilterValue: computedFilterValue,\n    computedFiltered: computedFiltered,\n    computedFilterable: isFilterable({\n      enableFiltering: enableFiltering,\n      filterValue: computedFilterValue\n    }),\n    setEnableFiltering: setEnableFiltering,\n    setFilterValue: setFilterValue,\n    getMenuAvailableHeight: getMenuAvailableHeight,\n    showColumnFilterContextMenu: showColumnFilterContextMenu,\n    hideColumnFilterContextMenu: hideColumnFilterContextMenu,\n    shouldShowFilteringMenuItems: shouldShowFilteringMenuItems,\n    renderColumnFilterContextMenu: renderColumnFilterContextMenu,\n    columnFilterContextMenuProps: columnFilterContextMenuProps,\n    columnFilterContextMenuAlignToRef: columnFilterContextMenuAlignToRef,\n    clearAllFilters: clearAllFilters,\n    getColumnFilterValue: getColumnFilterValue,\n    setColumnFilterValue: setColumnFilterValue,\n    isColumnFiltered: isColumnFiltered\n  };\n};\n\nvar _default = useFilters;\nexports.default = _default;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/리액트/인터로거/ILP-main/node_modules/@inovua/reactdatagrid-community/plugins/filters/useFilters/index.js"],"names":["_interopRequireDefault","require","_typeof","Object","defineProperty","exports","value","renderColumnFilterContextMenu","default","_toConsumableArray2","_slicedToArray2","_defineProperty2","_react","_interopRequireWildcard","_useProperty5","_getFilterValueForColumns","_batchUpdate","_mapColumns","_ua","_Menu","_renderGridMenu","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","emptyArray","COLUMN_MENU_ALIGN_POSITIONS","COLUMN_MENU_ALIGN_POSITIONS_RTL","computedProps","computedPropsRef","cellProps","columnFilterContextMenuProps","filterValue","computedFilterValueMap","id","columnOperators","initialProps","filterTypes","type","operators","selected","operator","showEnableButton","active","filterType","isFiltered","computedFiltered","items","activationItems","label","i18n","itemId","disabled","onClick","newFilterValue","current","computedOnColumnFilterValueChange","columnId","columnIndex","computedVisibleIndex","hideColumnFilterContextMenu","emptyValue","clearColumnFilter","clearAllFilters","map","name","concat","onSelectionChange","filterTypeDescription","operatorDescriptor","op","valueOnOperatorSelect","undefined","rtl","menuProps","autoFocus","theme","updatePositionOnScroll","updateMenuPositionOnScroll","nativeScroll","IS_MS_BROWSER","enableSelection","maxHeight","columnFilterContextMenuConstrainTo","getMenuAvailableHeight","style","zIndex","position","columnFilterContextMenuPosition","onDismiss","constrainTo","alignPositions","columnFilterContextMenuAlignPositions","alignTo","columnFilterContextMenuAlignToRef","result","grid","props","createElement","renderGridMenu","useFilterValue","_ref","columnsMap","enableFiltering","_useProperty","_useProperty2","doSetFilterValue","useMemo","setFilterValue","useCallback","queue","commit","setLoadDataTrigger","loadDataTrigger","isFilterable","_ref2","Array","isArray","useFilters","_useProperty3","_useProperty4","setEnableFiltering","isColumnFiltered","col","column","getColumnBy","getColumnFilterValue","columns","showWarnings","_useFilterValue","_useFilterValue2","computedFilterValue","filtersHeight","computedFilterable","filterNode","getDOMNode","querySelector","offsetHeight","size","height","allFiltersValue","headerCells","getColumnLayout","getHeaderCells","allColumns","headerCell","setValue","useRef","columnFilterContextMenuConstrainToRef","_useState","useState","_useState2","setColumnFilterContextMenuProps","showColumnFilterContextMenu","hideColumnContextMenu","shouldShowFilteringMenuItems","showFilteringMenuItems","reduce","acc","columnFilterValue","isBinaryOperator","onColumnFilterValueChange","oldFilterValue","getColumnFilterEmptyValue","start","end","f","setColumnFilterValue","idNameOrIndex","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderColumnFilterContextMenu = exports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _useProperty5 = _interopRequireDefault(require(\"../../../hooks/useProperty\"));\n\nvar _getFilterValueForColumns = _interopRequireDefault(require(\"../../../hooks/useDataSource/getFilterValueForColumns\"));\n\nvar _batchUpdate = _interopRequireDefault(require(\"../../../utils/batchUpdate\"));\n\nvar _mapColumns = _interopRequireDefault(require(\"../../../mapColumns\"));\n\nvar _ua = require(\"../../../common/ua\");\n\nvar _Menu = _interopRequireDefault(require(\"../../../packages/Menu\"));\n\nvar _renderGridMenu = _interopRequireDefault(require(\"../../../renderGridMenu\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar emptyArray = [];\nvar COLUMN_MENU_ALIGN_POSITIONS = ['tl-bl', 'tr-br', 'tl-tr', 'tr-tl', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\nvar COLUMN_MENU_ALIGN_POSITIONS_RTL = ['tr-br', 'tl-bl', 'tr-tl', 'tl-tr', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\n\nvar renderColumnFilterContextMenu = function renderColumnFilterContextMenu(computedProps, computedPropsRef) {\n  if (!computedProps) {\n    return null;\n  }\n\n  var cellProps = computedProps.columnFilterContextMenuProps;\n\n  if (!cellProps) {\n    return null;\n  }\n\n  var filterValue = computedProps.computedFilterValueMap ? computedProps.computedFilterValueMap[cellProps.id] : null;\n\n  if (!filterValue) {\n    return null;\n  }\n\n  var columnOperators = computedProps.initialProps.filterTypes[filterValue.type].operators || emptyArray;\n  var selected = {\n    operator: filterValue.operator\n  };\n  var showEnableButton = filterValue.active === false;\n  var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n  var isFiltered = computedProps.computedFiltered;\n\n  var items = function () {\n    var activationItems = ['-', {\n      label: computedProps.i18n('enable', 'Enable'),\n      itemId: 'enableFilter',\n      disabled: !showEnableButton,\n      onClick: function onClick() {\n        var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n          active: true\n        });\n\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        computedProps.computedOnColumnFilterValueChange({\n          columnId: cellProps.id,\n          columnIndex: cellProps.computedVisibleIndex,\n          cellProps: cellProps,\n          filterValue: newFilterValue\n        });\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, {\n      label: computedProps.i18n('disable', 'Disable'),\n      disabled: showEnableButton,\n      itemId: 'disableFilter',\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n          active: false\n        });\n\n        computedProps.computedOnColumnFilterValueChange({\n          columnId: cellProps.id,\n          cellProps: cellProps,\n          columnIndex: cellProps.computedVisibleIndex,\n          filterValue: newFilterValue\n        });\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, '-', {\n      label: computedProps.i18n('clear', 'Clear'),\n      itemId: 'clearFilter',\n      disabled: filterValue.value === filterType.emptyValue,\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        computedProps.clearColumnFilter(cellProps.id);\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, {\n      label: computedProps.i18n('clearAll', 'Clear All'),\n      itemId: 'clearAllFilters',\n      disabled: !isFiltered,\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        computedProps.clearAllFilters();\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }];\n    var items = columnOperators.map(function (operator) {\n      return {\n        label: computedProps.i18n(operator.label, operator.label) || computedProps.i18n(operator.name, operator.name),\n        name: 'operator',\n        itemId: \"operator-\".concat(operator.name),\n        value: operator.name\n      };\n    });\n    items.push.apply(items, activationItems);\n    return items;\n  }();\n\n  var onSelectionChange = function onSelectionChange(selected) {\n    var operator = selected.operator;\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var filterTypes = computedProps.initialProps.filterTypes;\n    var filterTypeDescription = filterTypes[filterType.type] || {\n      operators: []\n    };\n    var operatorDescriptor = filterTypeDescription.operators.filter(function (op) {\n      return op.name === operator;\n    })[0];\n\n    var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n      operator: operator\n    });\n\n    if (operatorDescriptor && operatorDescriptor.valueOnOperatorSelect !== undefined) {\n      newFilterValue.value = operatorDescriptor.valueOnOperatorSelect;\n    }\n\n    computedProps.computedOnColumnFilterValueChange({\n      columnId: cellProps.id,\n      cellProps: cellProps,\n      columnIndex: cellProps.computedVisibleIndex,\n      filterValue: newFilterValue\n    });\n    computedProps.hideColumnFilterContextMenu();\n  };\n\n  var rtl = computedProps.rtl;\n  var menuProps = {\n    autoFocus: true,\n    items: items,\n    theme: computedProps.theme,\n    updatePositionOnScroll: computedProps.updateMenuPositionOnScroll,\n    nativeScroll: !_ua.IS_MS_BROWSER,\n    enableSelection: true,\n    maxHeight: computedProps.columnFilterContextMenuConstrainTo ? null : computedProps.getMenuAvailableHeight(),\n    style: {\n      zIndex: 10000,\n      position: computedProps.columnFilterContextMenuPosition || 'absolute'\n    },\n    selected: selected,\n    onSelectionChange: onSelectionChange,\n    onDismiss: computedProps.hideColumnFilterContextMenu,\n    constrainTo: computedProps.columnFilterContextMenuConstrainTo,\n    alignPositions: computedProps.columnFilterContextMenuAlignPositions || rtl ? COLUMN_MENU_ALIGN_POSITIONS_RTL : COLUMN_MENU_ALIGN_POSITIONS,\n    alignTo: computedProps.columnFilterContextMenuAlignToRef.current\n  };\n  var result;\n\n  if (computedProps.initialProps.renderColumnFilterContextMenu) {\n    result = computedProps.initialProps.renderColumnFilterContextMenu(menuProps, {\n      cellProps: cellProps,\n      grid: computedPropsRef,\n      props: computedProps\n    });\n  }\n\n  if (result === undefined) {\n    result = _react.default.createElement(_Menu.default, _objectSpread({}, menuProps));\n  }\n\n  if (computedProps.initialProps.renderGridMenu) {\n    return computedProps.initialProps.renderGridMenu(result, computedProps);\n  }\n\n  return (0, _renderGridMenu.default)(result, computedProps);\n};\n\nexports.renderColumnFilterContextMenu = renderColumnFilterContextMenu;\n\nvar useFilterValue = function useFilterValue(props, _ref, computedPropsRef) {\n  var columnsMap = _ref.columnsMap,\n      enableFiltering = _ref.enableFiltering;\n\n  var _useProperty = (0, _useProperty5.default)(props, 'filterValue'),\n      _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n      filterValue = _useProperty2[0],\n      doSetFilterValue = _useProperty2[1];\n\n  filterValue = (0, _react.useMemo)(function () {\n    return (0, _getFilterValueForColumns.default)(filterValue || [], columnsMap);\n  }, [filterValue || [], columnsMap]);\n\n  if (!filterValue.length) {\n    filterValue = null;\n  }\n\n  var setFilterValue = (0, _react.useCallback)(function (filterValue) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    filterValue = (0, _getFilterValueForColumns.default)(filterValue, computedProps.columnsMap);\n    var queue = (0, _batchUpdate.default)();\n    queue.commit(function () {\n      computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n        return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['filterValue']);\n      });\n      doSetFilterValue(filterValue);\n    });\n  }, [doSetFilterValue]);\n  return [filterValue, setFilterValue];\n};\n\nvar isFilterable = function isFilterable(_ref2) {\n  var enableFiltering = _ref2.enableFiltering,\n      filterValue = _ref2.filterValue;\n\n  if (enableFiltering !== undefined) {\n    return enableFiltering;\n  }\n\n  if (!Array.isArray(filterValue) || !filterValue.length) {\n    return false;\n  }\n\n  return true;\n};\n\nvar useFilters = function useFilters(props, computedProps, computedPropsRef) {\n  var _useProperty3 = (0, _useProperty5.default)(props, 'enableFiltering'),\n      _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n      enableFiltering = _useProperty4[0],\n      setEnableFiltering = _useProperty4[1];\n\n  var isColumnFiltered = (0, _react.useCallback)(function (col) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return false;\n    }\n\n    var column = computedProps.getColumnBy(col);\n    var filterValue = computedProps.getColumnFilterValue(col.id);\n\n    if (!filterValue) {\n      return false;\n    }\n\n    var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n    return filterValue.value !== filterType.emptyValue;\n  }, []);\n  var columnsMap = (0, _react.useMemo)(function () {\n    return (0, _mapColumns.default)(props.columns, {\n      showWarnings: false\n    });\n  }, [props.columns]);\n\n  var _useFilterValue = useFilterValue(props, {\n    enableFiltering: enableFiltering,\n    columnsMap: columnsMap\n  }, computedPropsRef),\n      _useFilterValue2 = (0, _slicedToArray2.default)(_useFilterValue, 2),\n      computedFilterValue = _useFilterValue2[0],\n      setFilterValue = _useFilterValue2[1];\n\n  var getMenuAvailableHeight = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return undefined;\n    }\n\n    var filtersHeight = 0;\n\n    if (computedProps.computedFilterable) {\n      var filterNode = computedProps.getDOMNode().querySelector('.InovuaReactDataGrid__column-header__filter-wrapper');\n\n      if (filterNode) {\n        filtersHeight = filterNode.offsetHeight;\n      }\n    }\n\n    return computedProps.size ? computedProps.size.height - 5 + filtersHeight : undefined;\n  }, []);\n  var clearAllFilters = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (!computedProps.computedFilterValueMap) {\n      return;\n    }\n\n    var allFiltersValue = [];\n    var headerCells = computedProps.getColumnLayout().getHeaderCells();\n    computedProps.allColumns.forEach(function (column) {\n      var filterValue = computedProps.computedFilterValueMap[column.id];\n\n      if (!filterValue) {\n        return;\n      }\n\n      var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n      var headerCell = headerCells[column.computedVisibleIndex];\n\n      var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n        value: filterType.emptyValue\n      });\n\n      if (headerCell && headerCell.filter) {\n        headerCell.filter.setValue(newFilterValue.value);\n      }\n\n      allFiltersValue.push(newFilterValue);\n    });\n    setFilterValue(allFiltersValue);\n  }, [setFilterValue]);\n  var columnFilterContextMenuAlignToRef = (0, _react.useRef)(null);\n  var columnFilterContextMenuConstrainToRef = (0, _react.useRef)(null);\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      columnFilterContextMenuProps = _useState2[0],\n      setColumnFilterContextMenuProps = _useState2[1];\n\n  var showColumnFilterContextMenu = (0, _react.useCallback)(function (alignTo, cellProps) {\n    var computedProps = computedPropsRef.current;\n\n    if (columnFilterContextMenuProps || !computedProps) {\n      return;\n    }\n\n    columnFilterContextMenuAlignToRef.current = alignTo;\n    columnFilterContextMenuConstrainToRef.current = computedProps.columnFilterContextMenuConstrainTo || computedProps.getDOMNode();\n\n    if (computedProps.hideColumnContextMenu) {\n      computedProps.hideColumnContextMenu();\n    }\n\n    setColumnFilterContextMenuProps(cellProps);\n  }, [setColumnFilterContextMenuProps]);\n  var hideColumnFilterContextMenu = (0, _react.useCallback)(function () {\n    if (columnFilterContextMenuProps) {\n      setColumnFilterContextMenuProps(null);\n    }\n  }, [columnFilterContextMenuProps]);\n  var shouldShowFilteringMenuItems = (0, _react.useCallback)(function () {\n    if (props.showFilteringMenuItems) {\n      return true;\n    }\n\n    if (computedFilterValue) {\n      return true;\n    }\n\n    if (enableFiltering) {\n      return true;\n    }\n\n    return false;\n  }, [computedFilterValue, enableFiltering, props.showFilteringMenuItems]);\n  var computedFilterValueMap = (0, _react.useMemo)(function () {\n    return computedFilterValue ? computedFilterValue.reduce(function (acc, columnFilterValue) {\n      acc[columnFilterValue.name] = columnFilterValue;\n      return acc;\n    }, {}) : null;\n  }, [computedFilterValue]);\n  var computedOnColumnFilterValueChange = (0, _react.useCallback)(function (columnFilterValue) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var isBinaryOperator = computedProps.isBinaryOperator;\n\n    if (computedProps.onColumnFilterValueChange) {\n      computedProps.onColumnFilterValueChange(columnFilterValue);\n    }\n\n    var computedFilterValue = computedProps.computedFilterValue;\n    var newFilterValue = (computedFilterValue || []).map(function (oldFilterValue) {\n      if (oldFilterValue.name === columnFilterValue.columnId) {\n        var emptyValue = getColumnFilterEmptyValue(columnFilterValue.columnId);\n\n        if (columnFilterValue.filterValue.type === 'date' || columnFilterValue.filterValue.type === 'number') {\n          if (isBinaryOperator(oldFilterValue.operator) && !isBinaryOperator(columnFilterValue.filterValue.operator)) {\n            return _objectSpread(_objectSpread({}, columnFilterValue.filterValue), {}, {\n              value: emptyValue\n            });\n          }\n\n          if (!isBinaryOperator(oldFilterValue.operator) && isBinaryOperator(columnFilterValue.filterValue.operator)) {\n            return _objectSpread(_objectSpread({}, columnFilterValue.filterValue), {}, {\n              value: columnFilterValue.filterValue && columnFilterValue.filterValue.value != null && columnFilterValue.filterValue.value.start != null ? columnFilterValue.filterValue.value : {\n                start: emptyValue,\n                end: emptyValue\n              }\n            });\n          }\n        }\n\n        return columnFilterValue.filterValue;\n      }\n\n      return oldFilterValue;\n    }).filter(function (f) {\n      return !!f;\n    });\n    setFilterValue(newFilterValue);\n  }, [setFilterValue]);\n  var getColumnFilterValue = (0, _react.useCallback)(function (column) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return null;\n    }\n\n    var col = computedProps.getColumnBy(column);\n\n    if (!col) {\n      return null;\n    }\n\n    if (!computedProps.computedFilterValueMap) {\n      return null;\n    }\n\n    return computedProps.computedFilterValueMap[col.id];\n  }, []);\n  var setColumnFilterValue = (0, _react.useCallback)(function (column, value, operator) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return null;\n    }\n\n    var filterValue = getColumnFilterValue(column);\n\n    if (!filterValue) {\n      return;\n    }\n\n    var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n      value: value\n    });\n\n    if (operator) {\n      newFilterValue.operator = operator;\n    }\n\n    var col = computedProps.getColumnBy(column);\n    var headerCells = computedProps.getColumnLayout().getHeaderCells();\n    var headerCell = headerCells[col.computedVisibleIndex];\n\n    if (!headerCell || !headerCell.filter) {\n      return;\n    }\n\n    computedProps.computedOnColumnFilterValueChange({\n      columnId: col.id,\n      columnIndex: col.computedVisibleIndex,\n      filterValue: newFilterValue\n    });\n    headerCell.filter.setValue(value);\n  }, []);\n  var getColumnFilterEmptyValue = (0, _react.useCallback)(function (idNameOrIndex) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var col = computedProps.getColumnBy(idNameOrIndex);\n\n    if (!col) {\n      return;\n    }\n\n    if (!computedProps.computedFilterValueMap) {\n      return;\n    }\n\n    var filterValue = computedProps.computedFilterValueMap[col.id];\n\n    if (!filterValue) {\n      return;\n    }\n\n    var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n    return filterType.emptyValue;\n  }, []);\n  var clearColumnFilter = (0, _react.useCallback)(function (idNameOrIndex) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var col = computedProps.getColumnBy(idNameOrIndex);\n\n    if (!col) {\n      return;\n    }\n\n    computedProps.setColumnFilterValue(idNameOrIndex, getColumnFilterEmptyValue(idNameOrIndex));\n  }, []);\n  var isFiltered = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return false;\n    }\n\n    return (computedProps.computedFilterValue || []).reduce(function (result, filterValue) {\n      if (result) {\n        return true;\n      }\n\n      var col = computedProps.getColumnBy(filterValue.name);\n\n      if (col && isColumnFiltered(col)) {\n        return true;\n      }\n\n      return false;\n    }, false);\n  }, []);\n  var computedFiltered = isFiltered();\n  return {\n    clearColumnFilter: clearColumnFilter,\n    computedOnColumnFilterValueChange: computedOnColumnFilterValueChange,\n    computedFilterValueMap: computedFilterValueMap,\n    computedFilterValue: computedFilterValue,\n    computedFiltered: computedFiltered,\n    computedFilterable: isFilterable({\n      enableFiltering: enableFiltering,\n      filterValue: computedFilterValue\n    }),\n    setEnableFiltering: setEnableFiltering,\n    setFilterValue: setFilterValue,\n    getMenuAvailableHeight: getMenuAvailableHeight,\n    showColumnFilterContextMenu: showColumnFilterContextMenu,\n    hideColumnFilterContextMenu: hideColumnFilterContextMenu,\n    shouldShowFilteringMenuItems: shouldShowFilteringMenuItems,\n    renderColumnFilterContextMenu: renderColumnFilterContextMenu,\n    columnFilterContextMenuProps: columnFilterContextMenuProps,\n    columnFilterContextMenuAlignToRef: columnFilterContextMenuAlignToRef,\n    clearAllFilters: clearAllFilters,\n    getColumnFilterValue: getColumnFilterValue,\n    setColumnFilterValue: setColumnFilterValue,\n    isColumnFiltered: isColumnFiltered\n  };\n};\n\nvar _default = useFilters;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}