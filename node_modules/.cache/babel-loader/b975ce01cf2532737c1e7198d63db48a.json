{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactClass = _interopRequireDefault(require(\"../../../../packages/react-class\"));\n\nvar _MenuItemCell = _interopRequireDefault(require(\"./MenuItemCell\"));\n\nvar _Expander = _interopRequireDefault(require(\"../Expander\"));\n\nvar _renderCell = _interopRequireDefault(require(\"./renderCell\"));\n\nvar _CheckBox = _interopRequireDefault(require(\"../../../CheckBox\"));\n\nvar _RadioButton = _interopRequireDefault(require(\"../../../RadioButton\"));\n\nvar _assign = _interopRequireDefault(require(\"../../../../common/assign\"));\n\nvar _join = _interopRequireDefault(require(\"../../../../common/join\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../../common/cleanProps\"));\n\nvar _getRegionRelativeToParent = _interopRequireDefault(require(\"../getRegionRelativeToParent\"));\n\nvar _getGlobal = require(\"../../../../getGlobal\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar globalObject = (0, _getGlobal.getGlobal)();\n\nvar emptyFn = function emptyFn() {};\n\nvar MenuItem = function (_Component) {\n  (0, _inherits2.default)(MenuItem, _Component);\n\n  var _super = _createSuper(MenuItem);\n\n  function MenuItem(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MenuItem);\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n\n  (0, _createClass2.default)(MenuItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = this.preparedProps = this.prepareProps(this.props, this.state);\n      var className = props.className;\n      return _react.default.createElement(\"tr\", _objectSpread(_objectSpread({}, (0, _cleanProps.default)(props, MenuItem.propTypes)), {}, {\n        style: props.style,\n        className: className,\n        ref: function ref(node) {\n          return _this2.node = node;\n        }\n      }), this.renderCells());\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.componentIsMounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.componentIsMounted = false;\n    }\n  }, {\n    key: \"prepareProps\",\n    value: function prepareProps(props, state) {\n      var preparedProps = _objectSpread(_objectSpread({}, props), {}, {\n        mouseOver: !!state.mouseOver,\n        active: !!state.active,\n        disabled: !!props.disabled,\n        className: this.getClassName(),\n        style: this.getStyle(),\n        onClick: this.handleClick,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        onMouseDown: this.handleMouseDown,\n        onTouchStart: this.handleTouchStart\n      });\n\n      if (props.item.isTitle) {\n        delete preparedProps.mouseOver;\n        delete preparedProps.active;\n        delete preparedProps.onClick;\n        delete preparedProps.onMouseEnter;\n        delete preparedProps.onMouseLeave;\n        delete preparedProps.onMouseDown;\n        delete preparedProps.onTouchStart;\n      }\n\n      return preparedProps;\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      var props = this.props;\n\n      if (props.disabled && event.stopPropagation) {\n        event.stopPropagation();\n        return;\n      }\n\n      if (this.props.onClick) {\n        this.props.onClick(event, props, props.index);\n      }\n\n      if (this.props.item.onClick) {\n        this.props.item.onClick(event, props, props.index);\n      }\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown() {\n      var _this3 = this;\n\n      var mouseUpListener = function mouseUpListener() {\n        if (_this3.componentIsMounted) {\n          _this3.setState({\n            active: false\n          });\n        }\n\n        globalObject.removeEventListener('mouseup', mouseUpListener);\n      };\n\n      globalObject.addEventListener('mouseup', mouseUpListener);\n\n      if (this.componentIsMounted) {\n        this.setState({\n          active: true\n        });\n      }\n    }\n  }, {\n    key: \"handleTouchStart\",\n    value: function handleTouchStart(event) {\n      var _this4 = this;\n\n      var props = this.props;\n\n      var mouseUpListener = function mouseUpListener() {\n        if (_this4.componentIsMounted) {\n          _this4.setState({\n            active: false\n          });\n        }\n\n        globalObject.removeEventListener('touchend', mouseUpListener);\n      };\n\n      globalObject.addEventListener('touchend', mouseUpListener);\n\n      if (this.componentIsMounted) {\n        this.setState({\n          active: true\n        });\n      }\n\n      if (!this.props.item.items) {\n        return;\n      }\n\n      if (this.state.mouseOver) {\n        this.handleMouseLeave(event);\n      } else {\n        this.handleMouseEnter(event);\n      }\n    }\n  }, {\n    key: \"showMenu\",\n    value: function showMenu(menu, props) {\n      props.showMenu(menu, this.getOffset());\n    }\n  }, {\n    key: \"handleMouseEnter\",\n    value: function handleMouseEnter(event) {\n      var props = this.props;\n\n      if (props.disabled) {\n        return;\n      }\n\n      this.mouseInside = true;\n      this.setState({\n        mouseOver: true\n      });\n\n      if (props.onMouseOver) {\n        var menuOffset;\n\n        if (props.hasSubMenu) {\n          menuOffset = this.getOffset();\n        }\n\n        props.onMouseOver({\n          event: event,\n          menuOffset: menuOffset,\n          itemProps: props,\n          index: props.index,\n          hasSubMenu: props.hasSubMenu\n        });\n      }\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave(event) {\n      var props = this.props;\n\n      if (props.disabled) {\n        return;\n      }\n\n      var offset = {\n        x: event.clientX,\n        y: event.clientY\n      };\n\n      if (this.componentIsMounted) {\n        this.setState({\n          active: false,\n          mouseOver: false\n        });\n      }\n\n      if (props.onMouseOut) {\n        props.onMouseOut({\n          itemPorps: props,\n          leaveOffset: offset,\n          index: props.index,\n          hasSubMenu: props.hasSubMenu\n        });\n      }\n    }\n  }, {\n    key: \"renderCells\",\n    value: function renderCells() {\n      var props = this.props;\n      var cells = props.columns.map(function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _renderCell.default.apply(void 0, [props].concat(args));\n      });\n\n      if (props.enableSelection && props.name) {\n        var input = this.renderSelectInput();\n\n        if (this.props.selectionInputPosition === 'end') {\n          cells.push(input);\n        } else {\n          cells.unshift(input);\n        }\n      }\n\n      if (props.hasSubMenu) {\n        var expander = this.renderExpander();\n        cells.push(expander);\n      }\n\n      return cells;\n    }\n  }, {\n    key: \"getCommonCellProps\",\n    value: function getCommonCellProps() {\n      var props = this.props;\n      return {\n        rootClassName: props.rootClassName,\n        rtl: props.rtl\n      };\n    }\n  }, {\n    key: \"renderSelectInput\",\n    value: function renderSelectInput() {\n      var _this5 = this;\n\n      var props = this.props;\n      var multiple = props.multiple;\n      var className = (0, _join.default)(\"\".concat(props.rootClassName, \"__cell__input\"), props.browserNativeSelectInputs && \"\".concat(props.rootClassName, \"__cell__input--browser-native\"), multiple && \"\".concat(props.rootClassName, \"__cell__input--multiple\"));\n\n      var onChange = function onChange(checked) {\n        if (checked === undefined) {\n          checked = !props.checked;\n        }\n\n        if (typeof checked !== 'boolean' && _this5.props.showWarnings) {\n          console.warn('\"onChange\" should be called with a boolean param!');\n        }\n\n        props.onSelectChange({\n          name: props.name,\n          value: props.value,\n          multiple: multiple,\n          checked: checked\n        });\n      };\n\n      var inputProps = {\n        className: className,\n        onChange: props.selectOnClick ? emptyFn : onChange,\n        iconSize: multiple ? props.checkIconSize : props.radioIconSize,\n        name: props.name,\n        disabled: props.disabled,\n        checked: props.checked,\n        focusable: false,\n        supportIndeterminate: false,\n        browserNative: props.browserNativeSelectInputs,\n        theme: props.theme\n      };\n\n      var cellProps = _objectSpread({\n        key: 'select'\n      }, this.getCommonCellProps());\n\n      cellProps.className = (0, _join.default)(cellProps.className, \"\".concat(props.rootClassName, \"__cell--has-input\"), props.multiple && \"\".concat(props.rootClassName, \"__cell--checkbox\"), !props.multiple && \"\".concat(props.rootClassName, \"__cell--radio\"));\n      var Input = multiple ? _CheckBox.default : _RadioButton.default;\n      var renderFunction = multiple ? this.props.renderCheckInput : this.props.renderRadioInput;\n      var result;\n\n      if (typeof renderFunction === 'function') {\n        result = renderFunction({\n          domProps: inputProps,\n          onChange: onChange,\n          disabled: props.disabled,\n          checked: props.checked\n        });\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(Input, _objectSpread({}, inputProps));\n      }\n\n      return _react.default.createElement(_MenuItemCell.default, _objectSpread({}, cellProps), result);\n    }\n  }, {\n    key: \"renderExpander\",\n    value: function renderExpander() {\n      var props = this.props;\n      var expander = props.expander;\n\n      if (props.item && props.item.expander !== undefined) {\n        expander = props.item.expander;\n      }\n\n      var style = _objectSpread(_objectSpread({}, props.expanderStyle), props.item && props.item.expanderStyle);\n\n      var expanderProps = _objectSpread({\n        style: style,\n        size: props.expanderSize,\n        onClick: props.onExpanderClick\n      }, this.getCommonCellProps());\n\n      if (typeof expander === 'function') {\n        expander = expander(expanderProps, props.item);\n      }\n\n      if (expander === undefined || expander === true) {\n        expander = _react.default.createElement(_Expander.default, _objectSpread({}, expanderProps));\n      }\n\n      return _react.default.createElement(_MenuItemCell.default, _objectSpread({\n        key: \"expander\",\n        className: \"\".concat(props.rootClassName, \"__cell--has-expander\"),\n        expander: expander\n      }, expanderProps));\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle() {\n      var props = this.props,\n          state = this.state;\n      var style = (0, _assign.default)({}, props.style, props.item.style);\n\n      if (props.item.isTitle && props.titleStyle) {\n        (0, _assign.default)(style, props.titleStyle, props.item.titleStyle);\n      }\n\n      if (state.mouseOver) {\n        (0, _assign.default)(style, props.itemOverStyle, props.overStyle, props.item.overStyle);\n      }\n\n      if (state.active) {\n        (0, _assign.default)(style, props.itemActiveStyle, props.activeStyle, props.item.activeStyle);\n      }\n\n      if (props.expanded) {\n        (0, _assign.default)(style, props.expandedStyle, props.item.expandedStyle);\n      }\n\n      if (props.focused) {\n        (0, _assign.default)(style, props.focusedStyle, props.item.focusedStyle);\n      }\n\n      if (props.focused && state.mouseOver) {\n        (0, _assign.default)(style, props.overFocusedStyle, props.item.overFocusedStyle);\n      }\n\n      if (props.height) {\n        (0, _assign.default)(style, {\n          height: props.height\n        });\n      }\n\n      if (props.disabled) {\n        (0, _assign.default)(style, props.itemDisabledStyle, props.disabledStyle, props.item.disabledStyle);\n      }\n\n      return style;\n    }\n  }, {\n    key: \"getClassName\",\n    value: function getClassName() {\n      var props = this.props,\n          state = this.state;\n      var baseClassName = \"\".concat(props.rootClassName, \"__row\");\n      var className = (0, _join.default)(props.className, props.item.className, baseClassName, state.mouseOver && \"\".concat(baseClassName, \"--over\"), state.mouseOver && props.item.overClassName, state.mouseOver && props.overClassName, state.active && \"\".concat(baseClassName, \"--active\"), state.active && props.item.activeClassName, state.active && props.activeClassName, props.expanded && \"\".concat(baseClassName, \"--expanded\"), props.expanded && props.item.expandedClassName, props.expanded && props.expandedClassName, props.focused && \"\".concat(baseClassName, \"--focused\"), props.focused && props.item.focusedClassName, props.focused && props.focusedClassName, props.item.isTitle && \"\".concat(baseClassName, \"--title\"), props.checked && \"\".concat(baseClassName, \"--checked\"));\n\n      if (props.disabled) {\n        className = (0, _join.default)(props.className, baseClassName, props.disabled && \"\".concat(baseClassName, \"--disabled\"), props.disabled && props.itemDisabledClassName, props.disabled && props.item.disabledClassName);\n      }\n\n      return className;\n    }\n  }, {\n    key: \"getOffset\",\n    value: function getOffset() {\n      return (0, _getRegionRelativeToParent.default)(this.node, this.props.rootClassName);\n    }\n  }, {\n    key: \"getPreparedProps\",\n    value: function getPreparedProps() {\n      return this.preparedProps;\n    }\n  }, {\n    key: \"hasSubmenu\",\n    value: function hasSubmenu() {\n      return !!this.props.hasSubMenu;\n    }\n  }, {\n    key: \"getDOMNode\",\n    value: function getDOMNode() {\n      return this.node;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var props = this.props;\n      return props.item[props.valueProperty];\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      var props = this.props;\n      return props.item[props.valueProperty];\n    }\n  }]);\n  return MenuItem;\n}(_reactClass.default);\n\nMenuItem.defaultProps = {\n  isMenuItem: true,\n  item: {},\n  columns: ['label'],\n  enableSelection: false,\n  allowUnselect: false\n};\nMenuItem.propTypes = {\n  rootClassName: _propTypes.default.string,\n  style: _propTypes.default.object,\n  titleStyle: _propTypes.default.object,\n  height: _propTypes.default.number,\n  dismissOnClick: _propTypes.default.bool,\n  siblingItemHasSubMenu: _propTypes.default.bool,\n  overStyle: _propTypes.default.object,\n  overClassName: _propTypes.default.string,\n  activeStyle: _propTypes.default.object,\n  activeClassName: _propTypes.default.string,\n  disabledStyle: _propTypes.default.object,\n  disabledClassName: _propTypes.default.string,\n  expandedStyle: _propTypes.default.object,\n  expandedClassName: _propTypes.default.string,\n  focusedStyle: _propTypes.default.object,\n  focusedClassName: _propTypes.default.string,\n  cellStyle: _propTypes.default.object,\n  expanderStyle: _propTypes.default.object,\n  overFocusedStyle: _propTypes.default.object,\n  columns: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object])),\n  item: _propTypes.default.object,\n  expanded: _propTypes.default.bool,\n  globalCellStyle: _propTypes.default.object,\n  itemDisabledStyle: _propTypes.default.object,\n  itemDisabledClassName: _propTypes.default.string,\n  itemOverStyle: _propTypes.default.object,\n  itemActiveStyle: _propTypes.default.object,\n  menuHasSubmenu: _propTypes.default.bool,\n  hasSubMenu: _propTypes.default.bool,\n  items: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.string])),\n  isMenuItem: _propTypes.default.bool,\n  focused: _propTypes.default.bool,\n  index: _propTypes.default.number,\n  rtl: _propTypes.default.bool,\n  expander: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool, _propTypes.default.func]),\n  expanderSize: _propTypes.default.number,\n  expandedIndex: _propTypes.default.number,\n  onExpanderClick: _propTypes.default.func,\n  closeSubMenu: _propTypes.default.func,\n  closeSubmenuRecursively: _propTypes.default.func,\n  submenuWillUnmount: _propTypes.default.func,\n  onMouseOver: _propTypes.default.func,\n  onMouseOut: _propTypes.default.func,\n  mouseOver: _propTypes.default.bool,\n  active: _propTypes.default.bool,\n  menu: _propTypes.default.node,\n  onSelectChange: _propTypes.default.func,\n  enableSelection: _propTypes.default.bool,\n  allowUnselect: _propTypes.default.bool,\n  selectOnClick: _propTypes.default.bool,\n  name: _propTypes.default.any,\n  value: _propTypes.default.any,\n  renderCheckInput: _propTypes.default.func,\n  renderRadioInput: _propTypes.default.func,\n  selectionInputPosition: _propTypes.default.oneOf(['start', 'end']),\n  checkIconSize: _propTypes.default.number,\n  radioIconSize: _propTypes.default.number,\n  browserNativeSelectInputs: _propTypes.default.bool,\n  showWarnings: _propTypes.default.bool\n};\nvar _default = MenuItem;\nexports.default = _default;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/리액트/인터로거/ILP-main/node_modules/@inovua/reactdatagrid-community/packages/Menu/src/MenuItem/index.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_defineProperty2","_classCallCheck2","_createClass2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_react","_propTypes","_reactClass","_MenuItemCell","_Expander","_renderCell","_CheckBox","_RadioButton","_assign","_join","_cleanProps","_getRegionRelativeToParent","_getGlobal","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","globalObject","getGlobal","emptyFn","MenuItem","_Component","_super","props","_this","state","render","_this2","preparedProps","prepareProps","className","createElement","propTypes","style","ref","node","renderCells","componentDidMount","componentIsMounted","componentWillUnmount","mouseOver","active","disabled","getClassName","getStyle","onClick","handleClick","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","onMouseDown","handleMouseDown","onTouchStart","handleTouchStart","item","isTitle","event","stopPropagation","index","_this3","mouseUpListener","setState","removeEventListener","addEventListener","_this4","items","showMenu","menu","getOffset","mouseInside","onMouseOver","menuOffset","hasSubMenu","itemProps","offset","x","clientX","y","clientY","onMouseOut","itemPorps","leaveOffset","cells","columns","map","_len","args","Array","_key","concat","enableSelection","name","input","renderSelectInput","selectionInputPosition","unshift","expander","renderExpander","getCommonCellProps","rootClassName","rtl","_this5","multiple","browserNativeSelectInputs","onChange","checked","undefined","showWarnings","console","warn","onSelectChange","inputProps","selectOnClick","iconSize","checkIconSize","radioIconSize","focusable","supportIndeterminate","browserNative","theme","cellProps","Input","renderFunction","renderCheckInput","renderRadioInput","domProps","expanderStyle","expanderProps","size","expanderSize","onExpanderClick","titleStyle","itemOverStyle","overStyle","itemActiveStyle","activeStyle","expanded","expandedStyle","focused","focusedStyle","overFocusedStyle","height","itemDisabledStyle","disabledStyle","baseClassName","overClassName","activeClassName","expandedClassName","focusedClassName","itemDisabledClassName","disabledClassName","getPreparedProps","hasSubmenu","getDOMNode","getValue","valueProperty","getName","defaultProps","isMenuItem","allowUnselect","string","number","dismissOnClick","bool","siblingItemHasSubMenu","cellStyle","arrayOf","oneOfType","globalCellStyle","menuHasSubmenu","func","expandedIndex","closeSubMenu","closeSubmenuRecursively","submenuWillUnmount","any","oneOf","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactClass = _interopRequireDefault(require(\"../../../../packages/react-class\"));\n\nvar _MenuItemCell = _interopRequireDefault(require(\"./MenuItemCell\"));\n\nvar _Expander = _interopRequireDefault(require(\"../Expander\"));\n\nvar _renderCell = _interopRequireDefault(require(\"./renderCell\"));\n\nvar _CheckBox = _interopRequireDefault(require(\"../../../CheckBox\"));\n\nvar _RadioButton = _interopRequireDefault(require(\"../../../RadioButton\"));\n\nvar _assign = _interopRequireDefault(require(\"../../../../common/assign\"));\n\nvar _join = _interopRequireDefault(require(\"../../../../common/join\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../../common/cleanProps\"));\n\nvar _getRegionRelativeToParent = _interopRequireDefault(require(\"../getRegionRelativeToParent\"));\n\nvar _getGlobal = require(\"../../../../getGlobal\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar globalObject = (0, _getGlobal.getGlobal)();\n\nvar emptyFn = function emptyFn() {};\n\nvar MenuItem = function (_Component) {\n  (0, _inherits2.default)(MenuItem, _Component);\n\n  var _super = _createSuper(MenuItem);\n\n  function MenuItem(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MenuItem);\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n\n  (0, _createClass2.default)(MenuItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = this.preparedProps = this.prepareProps(this.props, this.state);\n      var className = props.className;\n      return _react.default.createElement(\"tr\", _objectSpread(_objectSpread({}, (0, _cleanProps.default)(props, MenuItem.propTypes)), {}, {\n        style: props.style,\n        className: className,\n        ref: function ref(node) {\n          return _this2.node = node;\n        }\n      }), this.renderCells());\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.componentIsMounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.componentIsMounted = false;\n    }\n  }, {\n    key: \"prepareProps\",\n    value: function prepareProps(props, state) {\n      var preparedProps = _objectSpread(_objectSpread({}, props), {}, {\n        mouseOver: !!state.mouseOver,\n        active: !!state.active,\n        disabled: !!props.disabled,\n        className: this.getClassName(),\n        style: this.getStyle(),\n        onClick: this.handleClick,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        onMouseDown: this.handleMouseDown,\n        onTouchStart: this.handleTouchStart\n      });\n\n      if (props.item.isTitle) {\n        delete preparedProps.mouseOver;\n        delete preparedProps.active;\n        delete preparedProps.onClick;\n        delete preparedProps.onMouseEnter;\n        delete preparedProps.onMouseLeave;\n        delete preparedProps.onMouseDown;\n        delete preparedProps.onTouchStart;\n      }\n\n      return preparedProps;\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      var props = this.props;\n\n      if (props.disabled && event.stopPropagation) {\n        event.stopPropagation();\n        return;\n      }\n\n      if (this.props.onClick) {\n        this.props.onClick(event, props, props.index);\n      }\n\n      if (this.props.item.onClick) {\n        this.props.item.onClick(event, props, props.index);\n      }\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown() {\n      var _this3 = this;\n\n      var mouseUpListener = function mouseUpListener() {\n        if (_this3.componentIsMounted) {\n          _this3.setState({\n            active: false\n          });\n        }\n\n        globalObject.removeEventListener('mouseup', mouseUpListener);\n      };\n\n      globalObject.addEventListener('mouseup', mouseUpListener);\n\n      if (this.componentIsMounted) {\n        this.setState({\n          active: true\n        });\n      }\n    }\n  }, {\n    key: \"handleTouchStart\",\n    value: function handleTouchStart(event) {\n      var _this4 = this;\n\n      var props = this.props;\n\n      var mouseUpListener = function mouseUpListener() {\n        if (_this4.componentIsMounted) {\n          _this4.setState({\n            active: false\n          });\n        }\n\n        globalObject.removeEventListener('touchend', mouseUpListener);\n      };\n\n      globalObject.addEventListener('touchend', mouseUpListener);\n\n      if (this.componentIsMounted) {\n        this.setState({\n          active: true\n        });\n      }\n\n      if (!this.props.item.items) {\n        return;\n      }\n\n      if (this.state.mouseOver) {\n        this.handleMouseLeave(event);\n      } else {\n        this.handleMouseEnter(event);\n      }\n    }\n  }, {\n    key: \"showMenu\",\n    value: function showMenu(menu, props) {\n      props.showMenu(menu, this.getOffset());\n    }\n  }, {\n    key: \"handleMouseEnter\",\n    value: function handleMouseEnter(event) {\n      var props = this.props;\n\n      if (props.disabled) {\n        return;\n      }\n\n      this.mouseInside = true;\n      this.setState({\n        mouseOver: true\n      });\n\n      if (props.onMouseOver) {\n        var menuOffset;\n\n        if (props.hasSubMenu) {\n          menuOffset = this.getOffset();\n        }\n\n        props.onMouseOver({\n          event: event,\n          menuOffset: menuOffset,\n          itemProps: props,\n          index: props.index,\n          hasSubMenu: props.hasSubMenu\n        });\n      }\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave(event) {\n      var props = this.props;\n\n      if (props.disabled) {\n        return;\n      }\n\n      var offset = {\n        x: event.clientX,\n        y: event.clientY\n      };\n\n      if (this.componentIsMounted) {\n        this.setState({\n          active: false,\n          mouseOver: false\n        });\n      }\n\n      if (props.onMouseOut) {\n        props.onMouseOut({\n          itemPorps: props,\n          leaveOffset: offset,\n          index: props.index,\n          hasSubMenu: props.hasSubMenu\n        });\n      }\n    }\n  }, {\n    key: \"renderCells\",\n    value: function renderCells() {\n      var props = this.props;\n      var cells = props.columns.map(function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _renderCell.default.apply(void 0, [props].concat(args));\n      });\n\n      if (props.enableSelection && props.name) {\n        var input = this.renderSelectInput();\n\n        if (this.props.selectionInputPosition === 'end') {\n          cells.push(input);\n        } else {\n          cells.unshift(input);\n        }\n      }\n\n      if (props.hasSubMenu) {\n        var expander = this.renderExpander();\n        cells.push(expander);\n      }\n\n      return cells;\n    }\n  }, {\n    key: \"getCommonCellProps\",\n    value: function getCommonCellProps() {\n      var props = this.props;\n      return {\n        rootClassName: props.rootClassName,\n        rtl: props.rtl\n      };\n    }\n  }, {\n    key: \"renderSelectInput\",\n    value: function renderSelectInput() {\n      var _this5 = this;\n\n      var props = this.props;\n      var multiple = props.multiple;\n      var className = (0, _join.default)(\"\".concat(props.rootClassName, \"__cell__input\"), props.browserNativeSelectInputs && \"\".concat(props.rootClassName, \"__cell__input--browser-native\"), multiple && \"\".concat(props.rootClassName, \"__cell__input--multiple\"));\n\n      var onChange = function onChange(checked) {\n        if (checked === undefined) {\n          checked = !props.checked;\n        }\n\n        if (typeof checked !== 'boolean' && _this5.props.showWarnings) {\n          console.warn('\"onChange\" should be called with a boolean param!');\n        }\n\n        props.onSelectChange({\n          name: props.name,\n          value: props.value,\n          multiple: multiple,\n          checked: checked\n        });\n      };\n\n      var inputProps = {\n        className: className,\n        onChange: props.selectOnClick ? emptyFn : onChange,\n        iconSize: multiple ? props.checkIconSize : props.radioIconSize,\n        name: props.name,\n        disabled: props.disabled,\n        checked: props.checked,\n        focusable: false,\n        supportIndeterminate: false,\n        browserNative: props.browserNativeSelectInputs,\n        theme: props.theme\n      };\n\n      var cellProps = _objectSpread({\n        key: 'select'\n      }, this.getCommonCellProps());\n\n      cellProps.className = (0, _join.default)(cellProps.className, \"\".concat(props.rootClassName, \"__cell--has-input\"), props.multiple && \"\".concat(props.rootClassName, \"__cell--checkbox\"), !props.multiple && \"\".concat(props.rootClassName, \"__cell--radio\"));\n      var Input = multiple ? _CheckBox.default : _RadioButton.default;\n      var renderFunction = multiple ? this.props.renderCheckInput : this.props.renderRadioInput;\n      var result;\n\n      if (typeof renderFunction === 'function') {\n        result = renderFunction({\n          domProps: inputProps,\n          onChange: onChange,\n          disabled: props.disabled,\n          checked: props.checked\n        });\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(Input, _objectSpread({}, inputProps));\n      }\n\n      return _react.default.createElement(_MenuItemCell.default, _objectSpread({}, cellProps), result);\n    }\n  }, {\n    key: \"renderExpander\",\n    value: function renderExpander() {\n      var props = this.props;\n      var expander = props.expander;\n\n      if (props.item && props.item.expander !== undefined) {\n        expander = props.item.expander;\n      }\n\n      var style = _objectSpread(_objectSpread({}, props.expanderStyle), props.item && props.item.expanderStyle);\n\n      var expanderProps = _objectSpread({\n        style: style,\n        size: props.expanderSize,\n        onClick: props.onExpanderClick\n      }, this.getCommonCellProps());\n\n      if (typeof expander === 'function') {\n        expander = expander(expanderProps, props.item);\n      }\n\n      if (expander === undefined || expander === true) {\n        expander = _react.default.createElement(_Expander.default, _objectSpread({}, expanderProps));\n      }\n\n      return _react.default.createElement(_MenuItemCell.default, _objectSpread({\n        key: \"expander\",\n        className: \"\".concat(props.rootClassName, \"__cell--has-expander\"),\n        expander: expander\n      }, expanderProps));\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle() {\n      var props = this.props,\n          state = this.state;\n      var style = (0, _assign.default)({}, props.style, props.item.style);\n\n      if (props.item.isTitle && props.titleStyle) {\n        (0, _assign.default)(style, props.titleStyle, props.item.titleStyle);\n      }\n\n      if (state.mouseOver) {\n        (0, _assign.default)(style, props.itemOverStyle, props.overStyle, props.item.overStyle);\n      }\n\n      if (state.active) {\n        (0, _assign.default)(style, props.itemActiveStyle, props.activeStyle, props.item.activeStyle);\n      }\n\n      if (props.expanded) {\n        (0, _assign.default)(style, props.expandedStyle, props.item.expandedStyle);\n      }\n\n      if (props.focused) {\n        (0, _assign.default)(style, props.focusedStyle, props.item.focusedStyle);\n      }\n\n      if (props.focused && state.mouseOver) {\n        (0, _assign.default)(style, props.overFocusedStyle, props.item.overFocusedStyle);\n      }\n\n      if (props.height) {\n        (0, _assign.default)(style, {\n          height: props.height\n        });\n      }\n\n      if (props.disabled) {\n        (0, _assign.default)(style, props.itemDisabledStyle, props.disabledStyle, props.item.disabledStyle);\n      }\n\n      return style;\n    }\n  }, {\n    key: \"getClassName\",\n    value: function getClassName() {\n      var props = this.props,\n          state = this.state;\n      var baseClassName = \"\".concat(props.rootClassName, \"__row\");\n      var className = (0, _join.default)(props.className, props.item.className, baseClassName, state.mouseOver && \"\".concat(baseClassName, \"--over\"), state.mouseOver && props.item.overClassName, state.mouseOver && props.overClassName, state.active && \"\".concat(baseClassName, \"--active\"), state.active && props.item.activeClassName, state.active && props.activeClassName, props.expanded && \"\".concat(baseClassName, \"--expanded\"), props.expanded && props.item.expandedClassName, props.expanded && props.expandedClassName, props.focused && \"\".concat(baseClassName, \"--focused\"), props.focused && props.item.focusedClassName, props.focused && props.focusedClassName, props.item.isTitle && \"\".concat(baseClassName, \"--title\"), props.checked && \"\".concat(baseClassName, \"--checked\"));\n\n      if (props.disabled) {\n        className = (0, _join.default)(props.className, baseClassName, props.disabled && \"\".concat(baseClassName, \"--disabled\"), props.disabled && props.itemDisabledClassName, props.disabled && props.item.disabledClassName);\n      }\n\n      return className;\n    }\n  }, {\n    key: \"getOffset\",\n    value: function getOffset() {\n      return (0, _getRegionRelativeToParent.default)(this.node, this.props.rootClassName);\n    }\n  }, {\n    key: \"getPreparedProps\",\n    value: function getPreparedProps() {\n      return this.preparedProps;\n    }\n  }, {\n    key: \"hasSubmenu\",\n    value: function hasSubmenu() {\n      return !!this.props.hasSubMenu;\n    }\n  }, {\n    key: \"getDOMNode\",\n    value: function getDOMNode() {\n      return this.node;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var props = this.props;\n      return props.item[props.valueProperty];\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      var props = this.props;\n      return props.item[props.valueProperty];\n    }\n  }]);\n  return MenuItem;\n}(_reactClass.default);\n\nMenuItem.defaultProps = {\n  isMenuItem: true,\n  item: {},\n  columns: ['label'],\n  enableSelection: false,\n  allowUnselect: false\n};\nMenuItem.propTypes = {\n  rootClassName: _propTypes.default.string,\n  style: _propTypes.default.object,\n  titleStyle: _propTypes.default.object,\n  height: _propTypes.default.number,\n  dismissOnClick: _propTypes.default.bool,\n  siblingItemHasSubMenu: _propTypes.default.bool,\n  overStyle: _propTypes.default.object,\n  overClassName: _propTypes.default.string,\n  activeStyle: _propTypes.default.object,\n  activeClassName: _propTypes.default.string,\n  disabledStyle: _propTypes.default.object,\n  disabledClassName: _propTypes.default.string,\n  expandedStyle: _propTypes.default.object,\n  expandedClassName: _propTypes.default.string,\n  focusedStyle: _propTypes.default.object,\n  focusedClassName: _propTypes.default.string,\n  cellStyle: _propTypes.default.object,\n  expanderStyle: _propTypes.default.object,\n  overFocusedStyle: _propTypes.default.object,\n  columns: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object])),\n  item: _propTypes.default.object,\n  expanded: _propTypes.default.bool,\n  globalCellStyle: _propTypes.default.object,\n  itemDisabledStyle: _propTypes.default.object,\n  itemDisabledClassName: _propTypes.default.string,\n  itemOverStyle: _propTypes.default.object,\n  itemActiveStyle: _propTypes.default.object,\n  menuHasSubmenu: _propTypes.default.bool,\n  hasSubMenu: _propTypes.default.bool,\n  items: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.string])),\n  isMenuItem: _propTypes.default.bool,\n  focused: _propTypes.default.bool,\n  index: _propTypes.default.number,\n  rtl: _propTypes.default.bool,\n  expander: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool, _propTypes.default.func]),\n  expanderSize: _propTypes.default.number,\n  expandedIndex: _propTypes.default.number,\n  onExpanderClick: _propTypes.default.func,\n  closeSubMenu: _propTypes.default.func,\n  closeSubmenuRecursively: _propTypes.default.func,\n  submenuWillUnmount: _propTypes.default.func,\n  onMouseOver: _propTypes.default.func,\n  onMouseOut: _propTypes.default.func,\n  mouseOver: _propTypes.default.bool,\n  active: _propTypes.default.bool,\n  menu: _propTypes.default.node,\n  onSelectChange: _propTypes.default.func,\n  enableSelection: _propTypes.default.bool,\n  allowUnselect: _propTypes.default.bool,\n  selectOnClick: _propTypes.default.bool,\n  name: _propTypes.default.any,\n  value: _propTypes.default.any,\n  renderCheckInput: _propTypes.default.func,\n  renderRadioInput: _propTypes.default.func,\n  selectionInputPosition: _propTypes.default.oneOf(['start', 'end']),\n  checkIconSize: _propTypes.default.number,\n  radioIconSize: _propTypes.default.number,\n  browserNativeSelectInputs: _propTypes.default.bool,\n  showWarnings: _propTypes.default.bool\n};\nvar _default = MenuItem;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}