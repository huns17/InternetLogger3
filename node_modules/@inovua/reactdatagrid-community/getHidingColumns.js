/** 
 * Copyright Â© INOVUA TRADING.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectAssign = _interopRequireDefault(require("object-assign"));

var _default = function _default(columns, newColumnsMap, oldColumnsMap) {
  var hidingColumns = [];
  var visited = {};
  Object.keys(oldColumnsMap).forEach(function (k) {
    var c = oldColumnsMap[k];
    var id = c.id || c.name;

    if (visited[id]) {
      return;
    }

    visited[id] = true;

    if (c.visibilityTransitionDuration || c.hideTransitionDuration) {
      if (!newColumnsMap[id] && oldColumnsMap[id] && !oldColumnsMap[id].inTransition || newColumnsMap[id] && newColumnsMap[id].visible === false && oldColumnsMap[id] && oldColumnsMap[id].visible !== false && !oldColumnsMap[id].inTransition) {
        c = (0, _objectAssign.default)({}, c, {
          visible: true,
          initialIndex: oldColumnsMap[id].initialIndex
        });
        hidingColumns.push(c);
      }
    }
  });
  return hidingColumns;
};

exports.default = _default;